import{u as m,a as u,s as o,j as e,L as c}from"./index-BJuo4wp5.js";import{l as g,A as d,F as p,P as x}from"./PasswordField-r4VGhwnh.js";import{B as k}from"./button-CiQFPDz8.js";import{E as h}from"./EmailField-DLbhdGGT.js";import"./index-NIGUFBhG.js";function f(){const t=m(),{login:i,setToken:s}=u();return{loginUser:async(r,l)=>{try{const a=await g(r,l);a.token?(i(a.token,a.user),s(a.token)):console.warn("Token tidak ditemukan"),o({title:"Login Berhasil",text:"Selamat datang kembali!",icon:"success",timer:1e3,showConfirmButton:!1,onClose:()=>t("/")})}catch(a){let n=a?.meta?.message||a?.message||"Terjadi kesalahan";n=n.replace(/^Login Gagal\s*/,""),o({title:"Login Gagal",text:n,icon:"error"})}}}}function B(){const{loginUser:t}=f(),i=s=>t(s.email,s.password);return e.jsxs(d,{title:"Login",subtitle:"Masukkan email dan kata sandi untuk masuk.",children:[e.jsx(p,{defaultValues:{email:"na@gmail.com",password:"Putri@12"},onSubmit:i,children:({control:s})=>e.jsxs("div",{className:"space-y-4",children:[e.jsx(h,{control:s}),e.jsx(x,{control:s}),e.jsx(k,{type:"submit",className:"w-full bg-primary text-primary-content hover:bg-primary-focus",children:"Masuk"})]})}),e.jsxs("p",{className:"text-sm text-center mt-4 text-base-content/70",children:["Belum punya akun?"," ",e.jsx(c,{to:"/register",className:"text-primary hover:underline",children:"Daftar di sini"})]})]})}export{B as default};
