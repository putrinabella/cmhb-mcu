import{j as e,u as l,s as r}from"./index-DBCl1piy.js";import{l as m,A as u,F as p}from"./authService-cyRsW18N.js";import{B as c}from"./button-DOBZ2I0b.js";import{F as g,P as d}from"./PasswordField-DwSObI-P.js";import{P as h}from"./phone-IJbGpULm.js";import"./pdfjs-BzSgQdvw.js";import"./apiClient-BmXS3_vS.js";import"./index-NIGUFBhG.js";function f({control:s}){return e.jsx(g,{control:s,name:"phone",label:"Nomor Telpon",placeholder:"Masukkan nomor telpon",type:"tel",rules:{required:"Nomor telpon wajib diisi"},leftIcon:e.jsx(h,{className:"w-5 h-5"})})}function x(){const s=l();return{loginEmployee:async(o,i)=>{try{const a=await m(o,i);a.token&&localStorage.setItem("user",JSON.stringify(a)),r({title:"Login Berhasil",text:"Selamat datang kembali!",icon:"success",timer:1500,showConfirmButton:!1,onClose:()=>s("/")})}catch(a){let t=a?.meta?.message||a?.message||"Terjadi kesalahan";t=t.replace(/^Login Gagal\s*/,""),r({title:"Login Gagal",text:t,icon:"error"})}}}}function P(){const{loginEmployee:s}=x(),n=o=>s(o.phone,o.password);return e.jsx(u,{title:"Login",subtitle:"Masukkan nomor telpon dan kata sandi untuk masuk.",children:e.jsx(p,{defaultValues:{phone:"",password:""},onSubmit:n,children:({control:o})=>e.jsxs("div",{className:"space-y-4",children:[e.jsx(f,{control:o}),e.jsx(d,{control:o}),e.jsx(c,{type:"submit",className:"w-full bg-primary text-primary-content hover:bg-primary-focus",children:"Masuk"})]})})})}export{P as default};
