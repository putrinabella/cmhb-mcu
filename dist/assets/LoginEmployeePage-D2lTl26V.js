import{c as l,j as e,u as m,s as i}from"./index-BJuo4wp5.js";import{a as u,l as c,A as p,F as g,P as h}from"./PasswordField-r4VGhwnh.js";import{B as d}from"./button-CiQFPDz8.js";import"./index-NIGUFBhG.js";/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],y=l("phone",f);function x({control:o}){return e.jsx(u,{control:o,name:"phone",label:"Nomor Telpon",placeholder:"Masukkan nomor telpon",type:"tel",rules:{required:"Nomor telpon wajib diisi"},leftIcon:e.jsx(y,{className:"w-5 h-5"})})}function j(){const o=m();return{loginEmployee:async(a,r)=>{try{const s=await c(a,r);s.token&&localStorage.setItem("user",JSON.stringify(s)),i({title:"Login Berhasil",text:"Selamat datang kembali!",icon:"success",timer:1500,showConfirmButton:!1,onClose:()=>o("/")})}catch(s){let t=s?.meta?.message||s?.message||"Terjadi kesalahan";t=t.replace(/^Login Gagal\s*/,""),i({title:"Login Gagal",text:t,icon:"error"})}}}}function N(){const{loginEmployee:o}=j(),n=a=>o(a.phone,a.password);return e.jsx(p,{title:"Login",subtitle:"Masukkan nomor telpon dan kata sandi untuk masuk.",children:e.jsx(g,{defaultValues:{phone:"",password:""},onSubmit:n,children:({control:a})=>e.jsxs("div",{className:"space-y-4",children:[e.jsx(x,{control:a}),e.jsx(h,{control:a}),e.jsx(d,{type:"submit",className:"w-full bg-primary text-primary-content hover:bg-primary-focus",children:"Masuk"})]})})})}export{N as default};
