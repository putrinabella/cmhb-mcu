import{u,s as n,r as c,j as a,U as d,L as p}from"./index-DBCl1piy.js";import{r as f,A as x,F as g}from"./authService-cyRsW18N.js";import{B as w}from"./button-DOBZ2I0b.js";import{E as h}from"./EmailField-DmsIy3Lv.js";import{F as o,L as j,E as k,a as y,P as b}from"./PasswordField-DwSObI-P.js";import"./pdfjs-BzSgQdvw.js";import"./apiClient-BmXS3_vS.js";import"./index-NIGUFBhG.js";import"./mail-BWWQdC_H.js";function N(){const t=u();return{registerUser:async s=>{try{await f(s),n({title:"Pendaftaran Berhasil",text:"Akun Anda telah dibuat. Silakan login.",icon:"success",timer:1500,showConfirmButton:!1,onClose:()=>t("/login")})}catch(r){let e=r?.meta?.message||r?.message||"Terjadi kesalahan";e=e.replace(/^Register Gagal\s*/,""),n({title:"Pendaftaran Gagal",text:e,icon:"error"})}}}}function P({control:t,getValues:i}){const[s,r]=c.useState(!1);return a.jsx(o,{control:t,name:"password_confirmation",label:"Konfirmasi Password",placeholder:"Ulangi password",type:s?"text":"password",rules:{required:"Konfirmasi password wajib diisi",validate:e=>e===i("password")||"Password tidak cocok"},showToggle:!0,showValue:s,onToggle:()=>r(e=>!e),icon:s?a.jsx(k,{className:"w-5 h-5"}):a.jsx(y,{className:"w-5 h-5"}),leftIcon:a.jsx(j,{className:"w-5 h-5"})})}function F({control:t,name:i,label:s,placeholder:r,rules:e,leftIcon:l,type:m="text"}){return a.jsx(o,{control:t,name:i,label:s,placeholder:r,rules:e,leftIcon:l,type:m})}function T(){const{registerUser:t}=N(),i=s=>{t(s)};return a.jsxs(x,{title:"Daftar Akun",subtitle:"Buat akun baru untuk mulai menggunakan layanan kami.",children:[a.jsx(g,{defaultValues:{name:"",email:"",password:"",password_confirmation:""},onSubmit:i,children:({control:s,getValues:r})=>a.jsxs("div",{className:"space-y-4",children:[a.jsx(F,{control:s,name:"name",label:"Nama",placeholder:"Masukkan nama lengkap",rules:{required:"Nama wajib diisi"},leftIcon:a.jsx(d,{className:"w-5 h-5"})}),a.jsx(h,{control:s}),a.jsx(b,{control:s}),a.jsx(P,{control:s,getValues:r}),a.jsx(w,{type:"submit",className:"w-full bg-primary text-primary-content hover:bg-primary-focus",children:"Daftar"})]})}),a.jsxs("p",{className:"text-sm text-center mt-4 text-base-content/70",children:["Sudah punya akun?"," ",a.jsx(p,{to:"/login",className:"text-primary hover:underline",children:"Masuk di sini"})]})]})}export{T as default};
