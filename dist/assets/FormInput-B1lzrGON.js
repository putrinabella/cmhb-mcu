import{j as V,r as ne,R as x}from"./index-DhvCd668.js";import{a as Le}from"./apiClient-BmXS3_vS.js";import{c as Lt,a as ge,S as Ot,b as It}from"./button-DzGjM0nt.js";function _r({title:e,subtitle:r,children:t}){return V.jsxs("div",{className:"min-h-screen grid grid-cols-1 md:grid-cols-2 bg-base-100 text-base-content",children:[V.jsx("div",{className:"hidden md:flex items-center justify-center bg-base-200 relative",children:V.jsx("div",{className:"text-center px-8",children:V.jsx("img",{src:"/images/logo.png",alt:"Ciputra Mitra Hospital",className:"w-full max-w-xs md:max-w-lg h-auto object-contain mx-auto"})})}),V.jsxs("div",{className:"relative flex items-center justify-center bg-center p-6 overflow-hidden",children:[V.jsx("div",{className:"absolute inset-0 z-0 opacity-20",style:{backgroundImage:"url('/images/pattern.png')",backgroundRepeat:"repeat-y",backgroundSize:"contain"}}),V.jsxs("div",{className:"relative z-10 w-full max-w-md bg-base-100 p-8 rounded-2xl shadow-2xl border border-base-300",children:[V.jsx("h1",{className:"text-2xl font-bold mb-2 text-center",children:e}),r&&V.jsx("p",{className:"text-sm mb-6 text-center text-base-content/70",children:r}),t]})]})]})}var Tt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],jt=Tt.reduce((e,r)=>{const t=Lt(`Primitive.${r}`),i=ne.forwardRef((n,o)=>{const{asChild:c,...d}=n,A=c?t:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),V.jsx(A,{...d,ref:o})});return i.displayName=`Primitive.${r}`,{...e,[r]:i}},{}),Ut="Label",dt=ne.forwardRef((e,r)=>V.jsx(jt.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));dt.displayName=Ut;var Pt=dt,he=e=>e.type==="checkbox",ae=e=>e instanceof Date,B=e=>e==null;const ct=e=>typeof e=="object";var M=e=>!B(e)&&!Array.isArray(e)&&ct(e)&&!ae(e),ft=e=>M(e)&&e.target?he(e.target)?e.target.checked:e.target.value:e,Bt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,yt=(e,r)=>e.has(Bt(r)),Wt=e=>{const r=e.constructor&&e.constructor.prototype;return M(r)&&r.hasOwnProperty("isPrototypeOf")},Oe=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function O(e){let r;const t=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(!(Oe&&(e instanceof Blob||i))&&(t||M(e)))if(r=t?[]:Object.create(Object.getPrototypeOf(e)),!t&&!Wt(e))r=e;else for(const n in e)e.hasOwnProperty(n)&&(r[n]=O(e[n]));else return e;return r}var we=e=>/^\w*$/.test(e),R=e=>e===void 0,Ie=e=>Array.isArray(e)?e.filter(Boolean):[],Te=e=>Ie(e.replace(/["|']|\]/g,"").split(/\.|\[/)),y=(e,r,t)=>{if(!r||!M(e))return t;const i=(we(r)?[r]:Te(r)).reduce((n,o)=>B(n)?n:n[o],e);return R(i)||i===e?R(e[r])?t:e[r]:i},H=e=>typeof e=="boolean",S=(e,r,t)=>{let i=-1;const n=we(r)?[r]:Te(r),o=n.length,c=o-1;for(;++i<o;){const d=n[i];let A=t;if(i!==c){const k=e[d];A=M(k)||Array.isArray(k)?k:isNaN(+n[i+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;e[d]=A,e=e[d]}};const _e={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},G={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Z={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},je=x.createContext(null);je.displayName="HookFormContext";const Ae=()=>x.useContext(je),$t=e=>{const{children:r,...t}=e;return x.createElement(je.Provider,{value:t},r)};var mt=(e,r,t,i=!0)=>{const n={defaultValues:r._defaultValues};for(const o in e)Object.defineProperty(n,o,{get:()=>{const c=o;return r._proxyFormState[c]!==G.all&&(r._proxyFormState[c]=!i||G.all),t&&(t[c]=!0),e[c]}});return n};const Ue=typeof window<"u"?x.useLayoutEffect:x.useEffect;function gt(e){const r=Ae(),{control:t=r.control,disabled:i,name:n,exact:o}=e||{},[c,d]=x.useState(t._formState),A=x.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Ue(()=>t._subscribe({name:n,formState:A.current,exact:o,callback:k=>{!i&&d({...t._formState,...k})}}),[n,i,o]),x.useEffect(()=>{A.current.isValid&&t._setValid(!0)},[t]),x.useMemo(()=>mt(c,t,A.current,!1),[c,t])}var X=e=>typeof e=="string",ht=(e,r,t,i,n)=>X(e)?(i&&r.watch.add(e),y(t,e,n)):Array.isArray(e)?e.map(o=>(i&&r.watch.add(o),y(t,o))):(i&&(r.watchAll=!0),t),Me=e=>B(e)||!ct(e);function ee(e,r,t=new WeakSet){if(Me(e)||Me(r))return e===r;if(ae(e)&&ae(r))return e.getTime()===r.getTime();const i=Object.keys(e),n=Object.keys(r);if(i.length!==n.length)return!1;if(t.has(e)||t.has(r))return!0;t.add(e),t.add(r);for(const o of i){const c=e[o];if(!n.includes(o))return!1;if(o!=="ref"){const d=r[o];if(ae(c)&&ae(d)||M(c)&&M(d)||Array.isArray(c)&&Array.isArray(d)?!ee(c,d,t):c!==d)return!1}}return!0}function qt(e){const r=Ae(),{control:t=r.control,name:i,defaultValue:n,disabled:o,exact:c,compute:d}=e||{},A=x.useRef(n),k=x.useRef(d),b=x.useRef(void 0);k.current=d;const F=x.useMemo(()=>t._getWatch(i,A.current),[t,i]),[v,T]=x.useState(k.current?k.current(F):F);return Ue(()=>t._subscribe({name:i,formState:{values:!0},exact:c,callback:q=>{if(!o){const E=ht(i,t._names,q.values||t._formValues,!1,A.current);if(k.current){const j=k.current(E);ee(j,b.current)||(T(j),b.current=j)}else T(E)}}}),[t,o,i,c]),x.useEffect(()=>t._removeUnmounted()),v}function Ht(e){const r=Ae(),{name:t,disabled:i,control:n=r.control,shouldUnregister:o,defaultValue:c}=e,d=yt(n._names.array,t),A=x.useMemo(()=>y(n._formValues,t,y(n._defaultValues,t,c)),[n,t,c]),k=qt({control:n,name:t,defaultValue:A,exact:!0}),b=gt({control:n,name:t,exact:!0}),F=x.useRef(e),v=x.useRef(n.register(t,{...e.rules,value:k,...H(e.disabled)?{disabled:e.disabled}:{}}));F.current=e;const T=x.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!y(b.errors,t)},isDirty:{enumerable:!0,get:()=>!!y(b.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!y(b.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!y(b.validatingFields,t)},error:{enumerable:!0,get:()=>y(b.errors,t)}}),[b,t]),q=x.useCallback(h=>v.current.onChange({target:{value:ft(h),name:t},type:_e.CHANGE}),[t]),E=x.useCallback(()=>v.current.onBlur({target:{value:y(n._formValues,t),name:t},type:_e.BLUR}),[t,n._formValues]),j=x.useCallback(h=>{const U=y(n._fields,t);U&&h&&(U._f.ref={focus:()=>h.focus&&h.focus(),select:()=>h.select&&h.select(),setCustomValidity:I=>h.setCustomValidity(I),reportValidity:()=>h.reportValidity()})},[n._fields,t]),oe=x.useMemo(()=>({name:t,value:k,...H(i)||b.disabled?{disabled:b.disabled||i}:{},onChange:q,onBlur:E,ref:j}),[t,i,b.disabled,q,E,j,k]);return x.useEffect(()=>{const h=n._options.shouldUnregister||o;n.register(t,{...F.current.rules,...H(F.current.disabled)?{disabled:F.current.disabled}:{}});const U=(I,C)=>{const te=y(n._fields,I);te&&te._f&&(te._f.mount=C)};if(U(t,!0),h){const I=O(y(n._options.defaultValues,t));S(n._defaultValues,t,I),R(y(n._formValues,t))&&S(n._formValues,t,I)}return!d&&n.register(t),()=>{(d?h&&!n._state.action:h)?n.unregister(t):U(t,!1)}},[t,n,d,o]),x.useEffect(()=>{n._setDisabledField({disabled:i,name:t})},[i,t,n]),x.useMemo(()=>({field:oe,formState:b,fieldState:T}),[oe,b,T])}const zt=e=>e.render(Ht(e));var Kt=(e,r,t,i,n)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:n||!0}}:{},ye=e=>Array.isArray(e)?e:[e],Ze=()=>{let e=[];return{get observers(){return e},next:n=>{for(const o of e)o.next&&o.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(o=>o!==n)}}),unsubscribe:()=>{e=[]}}},$=e=>M(e)&&!Object.keys(e).length,Pe=e=>e.type==="file",Y=e=>typeof e=="function",Fe=e=>{if(!Oe)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},bt=e=>e.type==="select-multiple",Be=e=>e.type==="radio",Gt=e=>Be(e)||he(e),Re=e=>Fe(e)&&e.isConnected;function Yt(e,r){const t=r.slice(0,-1).length;let i=0;for(;i<t;)e=R(e)?i++:e[r[i++]];return e}function Jt(e){for(const r in e)if(e.hasOwnProperty(r)&&!R(e[r]))return!1;return!0}function L(e,r){const t=Array.isArray(r)?r:we(r)?[r]:Te(r),i=t.length===1?e:Yt(e,t),n=t.length-1,o=t[n];return i&&delete i[o],n!==0&&(M(i)&&$(i)||Array.isArray(i)&&Jt(i))&&L(e,t.slice(0,-1)),e}var vt=e=>{for(const r in e)if(Y(e[r]))return!0;return!1};function Ve(e,r={}){const t=Array.isArray(e);if(M(e)||t)for(const i in e)Array.isArray(e[i])||M(e[i])&&!vt(e[i])?(r[i]=Array.isArray(e[i])?[]:{},Ve(e[i],r[i])):B(e[i])||(r[i]=!0);return r}function xt(e,r,t){const i=Array.isArray(e);if(M(e)||i)for(const n in e)Array.isArray(e[n])||M(e[n])&&!vt(e[n])?R(r)||Me(t[n])?t[n]=Array.isArray(e[n])?Ve(e[n],[]):{...Ve(e[n])}:xt(e[n],B(r)?{}:r[n],t[n]):t[n]=!ee(e[n],r[n]);return t}var ce=(e,r)=>xt(e,r,Ve(r));const et={value:!1,isValid:!1},tt={value:!0,isValid:!0};var _t=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!R(e[0].attributes.value)?R(e[0].value)||e[0].value===""?tt:{value:e[0].value,isValid:!0}:tt:et}return et},Ft=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:i})=>R(e)?e:r?e===""?NaN:e&&+e:t&&X(e)?new Date(e):i?i(e):e;const rt={isValid:!1,value:null};var Vt=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,rt):rt;function st(e){const r=e.ref;return Pe(r)?r.files:Be(r)?Vt(e.refs).value:bt(r)?[...r.selectedOptions].map(({value:t})=>t):he(r)?_t(e.refs).value:Ft(R(r.value)?e.ref.value:r.value,e)}var Qt=(e,r,t,i)=>{const n={};for(const o of e){const c=y(r,o);c&&S(n,o,c._f)}return{criteriaMode:t,names:[...e],fields:n,shouldUseNativeValidation:i}},pe=e=>e instanceof RegExp,fe=e=>R(e)?e:pe(e)?e.source:M(e)?pe(e.value)?e.value.source:e.value:e,it=e=>({isOnSubmit:!e||e===G.onSubmit,isOnBlur:e===G.onBlur,isOnChange:e===G.onChange,isOnAll:e===G.all,isOnTouch:e===G.onTouched});const at="AsyncFunction";var Xt=e=>!!e&&!!e.validate&&!!(Y(e.validate)&&e.validate.constructor.name===at||M(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===at)),Zt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),nt=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const me=(e,r,t,i)=>{for(const n of t||Object.keys(e)){const o=y(e,n);if(o){const{_f:c,...d}=o;if(c){if(c.refs&&c.refs[0]&&r(c.refs[0],n)&&!i)return!0;if(c.ref&&r(c.ref,c.name)&&!i)return!0;if(me(d,r))break}else if(M(d)&&me(d,r))break}}};function ot(e,r,t){const i=y(e,t);if(i||we(t))return{error:i,name:t};const n=t.split(".");for(;n.length;){const o=n.join("."),c=y(r,o),d=y(e,o);if(c&&!Array.isArray(c)&&t!==o)return{name:t};if(d&&d.type)return{name:o,error:d};if(d&&d.root&&d.root.type)return{name:`${o}.root`,error:d.root};n.pop()}return{name:t}}var er=(e,r,t,i)=>{t(e);const{name:n,...o}=e;return $(o)||Object.keys(o).length>=Object.keys(r).length||Object.keys(o).find(c=>r[c]===(!i||G.all))},tr=(e,r,t)=>!e||!r||e===r||ye(e).some(i=>i&&(t?i===r:i.startsWith(r)||r.startsWith(i))),rr=(e,r,t,i,n)=>n.isOnAll?!1:!t&&n.isOnTouch?!(r||e):(t?i.isOnBlur:n.isOnBlur)?!e:(t?i.isOnChange:n.isOnChange)?e:!0,sr=(e,r)=>!Ie(y(e,r)).length&&L(e,r),ir=(e,r,t)=>{const i=ye(y(e,t));return S(i,"root",r[t]),S(e,t,i),e},xe=e=>X(e);function lt(e,r,t="validate"){if(xe(e)||Array.isArray(e)&&e.every(xe)||H(e)&&!e)return{type:t,message:xe(e)?e:"",ref:r}}var ue=e=>M(e)&&!pe(e)?e:{value:e,message:""},ut=async(e,r,t,i,n,o)=>{const{ref:c,refs:d,required:A,maxLength:k,minLength:b,min:F,max:v,pattern:T,validate:q,name:E,valueAsNumber:j,mount:oe}=e._f,h=y(t,E);if(!oe||r.has(E))return{};const U=d?d[0]:c,I=_=>{n&&U.reportValidity&&(U.setCustomValidity(H(_)?"":_||""),U.reportValidity())},C={},te=Be(c),re=he(c),ke=te||re,K=(j||Pe(c))&&R(c.value)&&R(h)||Fe(c)&&c.value===""||h===""||Array.isArray(h)&&!h.length,ie=Kt.bind(null,E,i,C),J=(_,w,N,P=Z.maxLength,W=Z.minLength)=>{const Q=_?w:N;C[E]={type:_?P:W,message:Q,ref:c,...ie(_?P:W,Q)}};if(o?!Array.isArray(h)||!h.length:A&&(!ke&&(K||B(h))||H(h)&&!h||re&&!_t(d).isValid||te&&!Vt(d).isValid)){const{value:_,message:w}=xe(A)?{value:!!A,message:A}:ue(A);if(_&&(C[E]={type:Z.required,message:w,ref:U,...ie(Z.required,w)},!i))return I(w),C}if(!K&&(!B(F)||!B(v))){let _,w;const N=ue(v),P=ue(F);if(!B(h)&&!isNaN(h)){const W=c.valueAsNumber||h&&+h;B(N.value)||(_=W>N.value),B(P.value)||(w=W<P.value)}else{const W=c.valueAsDate||new Date(h),Q=be=>new Date(new Date().toDateString()+" "+be),de=c.type=="time",le=c.type=="week";X(N.value)&&h&&(_=de?Q(h)>Q(N.value):le?h>N.value:W>new Date(N.value)),X(P.value)&&h&&(w=de?Q(h)<Q(P.value):le?h<P.value:W<new Date(P.value))}if((_||w)&&(J(!!_,N.message,P.message,Z.max,Z.min),!i))return I(C[E].message),C}if((k||b)&&!K&&(X(h)||o&&Array.isArray(h))){const _=ue(k),w=ue(b),N=!B(_.value)&&h.length>+_.value,P=!B(w.value)&&h.length<+w.value;if((N||P)&&(J(N,_.message,w.message),!i))return I(C[E].message),C}if(T&&!K&&X(h)){const{value:_,message:w}=ue(T);if(pe(_)&&!h.match(_)&&(C[E]={type:Z.pattern,message:w,ref:c,...ie(Z.pattern,w)},!i))return I(w),C}if(q){if(Y(q)){const _=await q(h,t),w=lt(_,U);if(w&&(C[E]={...w,...ie(Z.validate,w.message)},!i))return I(w.message),C}else if(M(q)){let _={};for(const w in q){if(!$(_)&&!i)break;const N=lt(await q[w](h,t),U,w);N&&(_={...N,...ie(w,N.message)},I(N.message),i&&(C[E]=_))}if(!$(_)&&(C[E]={ref:U,..._},!i))return C}}return I(!0),C};const ar={mode:G.onSubmit,reValidateMode:G.onChange,shouldFocusError:!0};function nr(e={}){let r={...ar,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:Y(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},i={},n=M(r.defaultValues)||M(r.values)?O(r.defaultValues||r.values)||{}:{},o=r.shouldUnregister?{}:O(n),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},A,k=0;const b={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let F={...b};const v={array:Ze(),state:Ze()},T=r.criteriaMode===G.all,q=s=>a=>{clearTimeout(k),k=setTimeout(s,a)},E=async s=>{if(!r.disabled&&(b.isValid||F.isValid||s)){const a=r.resolver?$((await re()).errors):await K(i,!0);a!==t.isValid&&v.state.next({isValid:a})}},j=(s,a)=>{!r.disabled&&(b.isValidating||b.validatingFields||F.isValidating||F.validatingFields)&&((s||Array.from(d.mount)).forEach(l=>{l&&(a?S(t.validatingFields,l,a):L(t.validatingFields,l))}),v.state.next({validatingFields:t.validatingFields,isValidating:!$(t.validatingFields)}))},oe=(s,a=[],l,m,f=!0,u=!0)=>{if(m&&l&&!r.disabled){if(c.action=!0,u&&Array.isArray(y(i,s))){const g=l(y(i,s),m.argA,m.argB);f&&S(i,s,g)}if(u&&Array.isArray(y(t.errors,s))){const g=l(y(t.errors,s),m.argA,m.argB);f&&S(t.errors,s,g),sr(t.errors,s)}if((b.touchedFields||F.touchedFields)&&u&&Array.isArray(y(t.touchedFields,s))){const g=l(y(t.touchedFields,s),m.argA,m.argB);f&&S(t.touchedFields,s,g)}(b.dirtyFields||F.dirtyFields)&&(t.dirtyFields=ce(n,o)),v.state.next({name:s,isDirty:J(s,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else S(o,s,a)},h=(s,a)=>{S(t.errors,s,a),v.state.next({errors:t.errors})},U=s=>{t.errors=s,v.state.next({errors:t.errors,isValid:!1})},I=(s,a,l,m)=>{const f=y(i,s);if(f){const u=y(o,s,R(l)?y(n,s):l);R(u)||m&&m.defaultChecked||a?S(o,s,a?u:st(f._f)):N(s,u),c.mount&&E()}},C=(s,a,l,m,f)=>{let u=!1,g=!1;const p={name:s};if(!r.disabled){if(!l||m){(b.isDirty||F.isDirty)&&(g=t.isDirty,t.isDirty=p.isDirty=J(),u=g!==p.isDirty);const D=ee(y(n,s),a);g=!!y(t.dirtyFields,s),D?L(t.dirtyFields,s):S(t.dirtyFields,s,!0),p.dirtyFields=t.dirtyFields,u=u||(b.dirtyFields||F.dirtyFields)&&g!==!D}if(l){const D=y(t.touchedFields,s);D||(S(t.touchedFields,s,l),p.touchedFields=t.touchedFields,u=u||(b.touchedFields||F.touchedFields)&&D!==l)}u&&f&&v.state.next(p)}return u?p:{}},te=(s,a,l,m)=>{const f=y(t.errors,s),u=(b.isValid||F.isValid)&&H(a)&&t.isValid!==a;if(r.delayError&&l?(A=q(()=>h(s,l)),A(r.delayError)):(clearTimeout(k),A=null,l?S(t.errors,s,l):L(t.errors,s)),(l?!ee(f,l):f)||!$(m)||u){const g={...m,...u&&H(a)?{isValid:a}:{},errors:t.errors,name:s};t={...t,...g},v.state.next(g)}},re=async s=>{j(s,!0);const a=await r.resolver(o,r.context,Qt(s||d.mount,i,r.criteriaMode,r.shouldUseNativeValidation));return j(s),a},ke=async s=>{const{errors:a}=await re(s);if(s)for(const l of s){const m=y(a,l);m?S(t.errors,l,m):L(t.errors,l)}else t.errors=a;return a},K=async(s,a,l={valid:!0})=>{for(const m in s){const f=s[m];if(f){const{_f:u,...g}=f;if(u){const p=d.array.has(u.name),D=f._f&&Xt(f._f);D&&b.validatingFields&&j([m],!0);const z=await ut(f,d.disabled,o,T,r.shouldUseNativeValidation&&!a,p);if(D&&b.validatingFields&&j([m]),z[u.name]&&(l.valid=!1,a))break;!a&&(y(z,u.name)?p?ir(t.errors,z,u.name):S(t.errors,u.name,z[u.name]):L(t.errors,u.name))}!$(g)&&await K(g,a,l)}}return l.valid},ie=()=>{for(const s of d.unMount){const a=y(i,s);a&&(a._f.refs?a._f.refs.every(l=>!Re(l)):!Re(a._f.ref))&&De(s)}d.unMount=new Set},J=(s,a)=>!r.disabled&&(s&&a&&S(o,s,a),!ee(be(),n)),_=(s,a,l)=>ht(s,d,{...c.mount?o:R(a)?n:X(s)?{[s]:a}:a},l,a),w=s=>Ie(y(c.mount?o:n,s,r.shouldUnregister?y(n,s,[]):[])),N=(s,a,l={})=>{const m=y(i,s);let f=a;if(m){const u=m._f;u&&(!u.disabled&&S(o,s,Ft(a,u)),f=Fe(u.ref)&&B(a)?"":a,bt(u.ref)?[...u.ref.options].forEach(g=>g.selected=f.includes(g.value)):u.refs?he(u.ref)?u.refs.forEach(g=>{(!g.defaultChecked||!g.disabled)&&(Array.isArray(f)?g.checked=!!f.find(p=>p===g.value):g.checked=f===g.value||!!f)}):u.refs.forEach(g=>g.checked=g.value===f):Pe(u.ref)?u.ref.value="":(u.ref.value=f,u.ref.type||v.state.next({name:s,values:O(o)})))}(l.shouldDirty||l.shouldTouch)&&C(s,f,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&le(s)},P=(s,a,l)=>{for(const m in a){if(!a.hasOwnProperty(m))return;const f=a[m],u=s+"."+m,g=y(i,u);(d.array.has(s)||M(f)||g&&!g._f)&&!ae(f)?P(u,f,l):N(u,f,l)}},W=(s,a,l={})=>{const m=y(i,s),f=d.array.has(s),u=O(a);S(o,s,u),f?(v.array.next({name:s,values:O(o)}),(b.isDirty||b.dirtyFields||F.isDirty||F.dirtyFields)&&l.shouldDirty&&v.state.next({name:s,dirtyFields:ce(n,o),isDirty:J(s,u)})):m&&!m._f&&!B(u)?P(s,u,l):N(s,u,l),nt(s,d)&&v.state.next({...t,name:s}),v.state.next({name:c.mount?s:void 0,values:O(o)})},Q=async s=>{c.mount=!0;const a=s.target;let l=a.name,m=!0;const f=y(i,l),u=D=>{m=Number.isNaN(D)||ae(D)&&isNaN(D.getTime())||ee(D,y(o,l,D))},g=it(r.mode),p=it(r.reValidateMode);if(f){let D,z;const ve=a.type?st(f._f):ft(s),se=s.type===_e.BLUR||s.type===_e.FOCUS_OUT,Nt=!Zt(f._f)&&!r.resolver&&!y(t.errors,l)&&!f._f.deps||rr(se,y(t.touchedFields,l),t.isSubmitted,p,g),Ce=nt(l,d,se);S(o,l,ve),se?(!a||!a.readOnly)&&(f._f.onBlur&&f._f.onBlur(s),A&&A(0)):f._f.onChange&&f._f.onChange(s);const Ne=C(l,ve,se),Rt=!$(Ne)||Ce;if(!se&&v.state.next({name:l,type:s.type,values:O(o)}),Nt)return(b.isValid||F.isValid)&&(r.mode==="onBlur"?se&&E():se||E()),Rt&&v.state.next({name:l,...Ce?{}:Ne});if(!se&&Ce&&v.state.next({...t}),r.resolver){const{errors:Qe}=await re([l]);if(u(ve),m){const Mt=ot(t.errors,i,l),Xe=ot(Qe,i,Mt.name||l);D=Xe.error,l=Xe.name,z=$(Qe)}}else j([l],!0),D=(await ut(f,d.disabled,o,T,r.shouldUseNativeValidation))[l],j([l]),u(ve),m&&(D?z=!1:(b.isValid||F.isValid)&&(z=await K(i,!0)));m&&(f._f.deps&&le(f._f.deps),te(l,z,D,Ne))}},de=(s,a)=>{if(y(t.errors,a)&&s.focus)return s.focus(),1},le=async(s,a={})=>{let l,m;const f=ye(s);if(r.resolver){const u=await ke(R(s)?s:f);l=$(u),m=s?!f.some(g=>y(u,g)):l}else s?(m=(await Promise.all(f.map(async u=>{const g=y(i,u);return await K(g&&g._f?{[u]:g}:g)}))).every(Boolean),!(!m&&!t.isValid)&&E()):m=l=await K(i);return v.state.next({...!X(s)||(b.isValid||F.isValid)&&l!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:l}:{},errors:t.errors}),a.shouldFocus&&!m&&me(i,de,s?f:d.mount),m},be=s=>{const a={...c.mount?o:n};return R(s)?a:X(s)?y(a,s):s.map(l=>y(a,l))},$e=(s,a)=>({invalid:!!y((a||t).errors,s),isDirty:!!y((a||t).dirtyFields,s),error:y((a||t).errors,s),isValidating:!!y(t.validatingFields,s),isTouched:!!y((a||t).touchedFields,s)}),wt=s=>{s&&ye(s).forEach(a=>L(t.errors,a)),v.state.next({errors:s?t.errors:{}})},qe=(s,a,l)=>{const m=(y(i,s,{_f:{}})._f||{}).ref,f=y(t.errors,s)||{},{ref:u,message:g,type:p,...D}=f;S(t.errors,s,{...D,...a,ref:m}),v.state.next({name:s,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&m&&m.focus&&m.focus()},At=(s,a)=>Y(s)?v.state.subscribe({next:l=>"values"in l&&s(_(void 0,a),l)}):_(s,a,!0),He=s=>v.state.subscribe({next:a=>{tr(s.name,a.name,s.exact)&&er(a,s.formState||b,Ct,s.reRenderRoot)&&s.callback({values:{...o},...t,...a,defaultValues:n})}}).unsubscribe,kt=s=>(c.mount=!0,F={...F,...s.formState},He({...s,formState:F})),De=(s,a={})=>{for(const l of s?ye(s):d.mount)d.mount.delete(l),d.array.delete(l),a.keepValue||(L(i,l),L(o,l)),!a.keepError&&L(t.errors,l),!a.keepDirty&&L(t.dirtyFields,l),!a.keepTouched&&L(t.touchedFields,l),!a.keepIsValidating&&L(t.validatingFields,l),!r.shouldUnregister&&!a.keepDefaultValue&&L(n,l);v.state.next({values:O(o)}),v.state.next({...t,...a.keepDirty?{isDirty:J()}:{}}),!a.keepIsValid&&E()},ze=({disabled:s,name:a})=>{(H(s)&&c.mount||s||d.disabled.has(a))&&(s?d.disabled.add(a):d.disabled.delete(a))},Se=(s,a={})=>{let l=y(i,s);const m=H(a.disabled)||H(r.disabled);return S(i,s,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:s}},name:s,mount:!0,...a}}),d.mount.add(s),l?ze({disabled:H(a.disabled)?a.disabled:r.disabled,name:s}):I(s,!0,a.value),{...m?{disabled:a.disabled||r.disabled}:{},...r.progressive?{required:!!a.required,min:fe(a.min),max:fe(a.max),minLength:fe(a.minLength),maxLength:fe(a.maxLength),pattern:fe(a.pattern)}:{},name:s,onChange:Q,onBlur:Q,ref:f=>{if(f){Se(s,a),l=y(i,s);const u=R(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,g=Gt(u),p=l._f.refs||[];if(g?p.find(D=>D===u):u===l._f.ref)return;S(i,s,{_f:{...l._f,...g?{refs:[...p.filter(Re),u,...Array.isArray(y(n,s))?[{}]:[]],ref:{type:u.type,name:s}}:{ref:u}}}),I(s,!1,void 0,u)}else l=y(i,s,{}),l._f&&(l._f.mount=!1),(r.shouldUnregister||a.shouldUnregister)&&!(yt(d.array,s)&&c.action)&&d.unMount.add(s)}}},Ee=()=>r.shouldFocusError&&me(i,de,d.mount),Dt=s=>{H(s)&&(v.state.next({disabled:s}),me(i,(a,l)=>{const m=y(i,l);m&&(a.disabled=m._f.disabled||s,Array.isArray(m._f.refs)&&m._f.refs.forEach(f=>{f.disabled=m._f.disabled||s}))},0,!1))},Ke=(s,a)=>async l=>{let m;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let f=O(o);if(v.state.next({isSubmitting:!0}),r.resolver){const{errors:u,values:g}=await re();t.errors=u,f=O(g)}else await K(i);if(d.disabled.size)for(const u of d.disabled)L(f,u);if(L(t.errors,"root"),$(t.errors)){v.state.next({errors:{}});try{await s(f,l)}catch(u){m=u}}else a&&await a({...t.errors},l),Ee(),setTimeout(Ee);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:$(t.errors)&&!m,submitCount:t.submitCount+1,errors:t.errors}),m)throw m},St=(s,a={})=>{y(i,s)&&(R(a.defaultValue)?W(s,O(y(n,s))):(W(s,a.defaultValue),S(n,s,O(a.defaultValue))),a.keepTouched||L(t.touchedFields,s),a.keepDirty||(L(t.dirtyFields,s),t.isDirty=a.defaultValue?J(s,O(y(n,s))):J()),a.keepError||(L(t.errors,s),b.isValid&&E()),v.state.next({...t}))},Ge=(s,a={})=>{const l=s?O(s):n,m=O(l),f=$(s),u=f?n:m;if(a.keepDefaultValues||(n=l),!a.keepValues){if(a.keepDirtyValues){const g=new Set([...d.mount,...Object.keys(ce(n,o))]);for(const p of Array.from(g))y(t.dirtyFields,p)?S(u,p,y(o,p)):W(p,y(u,p))}else{if(Oe&&R(s))for(const g of d.mount){const p=y(i,g);if(p&&p._f){const D=Array.isArray(p._f.refs)?p._f.refs[0]:p._f.ref;if(Fe(D)){const z=D.closest("form");if(z){z.reset();break}}}}if(a.keepFieldsRef)for(const g of d.mount)W(g,y(u,g));else i={}}o=r.shouldUnregister?a.keepDefaultValues?O(n):{}:O(u),v.array.next({values:{...u}}),v.state.next({values:{...u}})}d={mount:a.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!b.isValid||!!a.keepIsValid||!!a.keepDirtyValues,c.watch=!!r.shouldUnregister,v.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:f?!1:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!ee(s,n)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:f?{}:a.keepDirtyValues?a.keepDefaultValues&&o?ce(n,o):t.dirtyFields:a.keepDefaultValues&&s?ce(n,s):a.keepDirty?t.dirtyFields:{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:n})},Ye=(s,a)=>Ge(Y(s)?s(o):s,a),Et=(s,a={})=>{const l=y(i,s),m=l&&l._f;if(m){const f=m.refs?m.refs[0]:m.ref;f.focus&&(f.focus(),a.shouldSelect&&Y(f.select)&&f.select())}},Ct=s=>{t={...t,...s}},Je={control:{register:Se,unregister:De,getFieldState:$e,handleSubmit:Ke,setError:qe,_subscribe:He,_runSchema:re,_focusError:Ee,_getWatch:_,_getDirty:J,_setValid:E,_setFieldArray:oe,_setDisabledField:ze,_setErrors:U,_getFieldArray:w,_reset:Ge,_resetDefaultValues:()=>Y(r.defaultValues)&&r.defaultValues().then(s=>{Ye(s,r.resetOptions),v.state.next({isLoading:!1})}),_removeUnmounted:ie,_disableForm:Dt,_subjects:v,_proxyFormState:b,get _fields(){return i},get _formValues(){return o},get _state(){return c},set _state(s){c=s},get _defaultValues(){return n},get _names(){return d},set _names(s){d=s},get _formState(){return t},get _options(){return r},set _options(s){r={...r,...s}}},subscribe:kt,trigger:le,register:Se,handleSubmit:Ke,watch:At,setValue:W,getValues:be,reset:Ye,resetField:St,clearErrors:wt,unregister:De,setError:qe,setFocus:Et,getFieldState:$e};return{...Je,formControl:Je}}function or(e={}){const r=x.useRef(void 0),t=x.useRef(void 0),[i,n]=x.useState({isDirty:!1,isValidating:!1,isLoading:Y(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Y(e.defaultValues)?void 0:e.defaultValues});if(!r.current)if(e.formControl)r.current={...e.formControl,formState:i},e.defaultValues&&!Y(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:c,...d}=nr(e);r.current={...d,formState:i}}const o=r.current.control;return o._options=e,Ue(()=>{const c=o._subscribe({formState:o._proxyFormState,callback:()=>n({...o._formState}),reRenderRoot:!0});return n(d=>({...d,isReady:!0})),o._formState.isReady=!0,c},[o]),x.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),x.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),x.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),x.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),x.useEffect(()=>{if(o._proxyFormState.isDirty){const c=o._getDirty();c!==i.isDirty&&o._subjects.state.next({isDirty:c})}},[o,i.isDirty]),x.useEffect(()=>{e.values&&!ee(e.values,t.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),t.current=e.values,n(c=>({...c}))):o._resetDefaultValues()},[o,e.values]),x.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),r.current.formState=mt(i,o),r.current}function lr({className:e,...r}){return V.jsx(Pt,{"data-slot":"label",className:ge("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...r})}const ur=$t,dr=ne.createContext({}),We=()=>{const e=ne.useContext(dr),r=ne.useContext(pt),{getFieldState:t}=Ae(),i=gt({name:e.name}),n=t(e.name,i);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=r;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...n}},pt=ne.createContext({});function cr({className:e,...r}){const t=ne.useId();return V.jsx(pt.Provider,{value:{id:t},children:V.jsx("div",{"data-slot":"form-item",className:ge("grid gap-2",e),...r})})}function fr({className:e,...r}){const{error:t,formItemId:i}=We();return V.jsx(lr,{"data-slot":"form-label","data-error":!!t,className:ge("data-[error=true]:text-destructive",e),htmlFor:i,...r})}function yr({...e}){const{error:r,formItemId:t,formDescriptionId:i,formMessageId:n}=We();return V.jsx(Ot,{"data-slot":"form-control",id:t,"aria-describedby":r?`${i} ${n}`:`${i}`,"aria-invalid":!!r,...e})}function mr({className:e,...r}){const{error:t,formMessageId:i}=We(),n=t?String(t?.message??""):r.children;return n?V.jsx("p",{"data-slot":"form-message",id:i,className:ge("text-destructive text-sm",e),...r,children:n}):null}function Fr({defaultValues:e,onSubmit:r,children:t}){const i=or({defaultValues:e});return V.jsx(ur,{...i,children:V.jsx("form",{onSubmit:i.handleSubmit(r),children:t({control:i.control,handleSubmit:i.handleSubmit,getValues:i.getValues,setValue:i.setValue,watch:i.watch,reset:i.reset})})})}const Vr=async(e,r)=>{const t=await Le("post","/login",{email:e,password:r});return{token:t.data.token,user:{id:t.data.id,email:t.data.email,name:t.data.name,position:t.data.position,department:t.data.department,phone_number:t.data.phone_number,company_id:t.data.company_id,company_name:t.data.company_name}}},pr=async(e,r,t)=>{const n=(await Le("post","/company-employees/login",{nik:e,dob:r,company_code:t})).data;return{token:n.token,employee:{id:n.employee.id,company_id:n.employee.company_id,company_name:n.employee.company_name,employee_number:n.employee.employee_number,nik:n.employee.nik,name:n.employee.name,gender:n.employee.gender,phone_number:n.employee.phone_number,dob:n.employee.dob,age_detail:n.employee.age_detail},batches:n.batches??[]}},wr=e=>Le("post","/register",e);function gr({className:e,type:r,...t}){return V.jsx("input",{type:r,"data-slot":"input",className:ge("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...t})}const Ar=({name:e,label:r,type:t="text",control:i,rules:n,placeholder:o,showToggle:c,showValue:d,onToggle:A,icon:k,leftIcon:b})=>{const F=`form-${e}`;return V.jsx(zt,{name:e,control:i,rules:n,render:({field:v,fieldState:T})=>V.jsxs(cr,{children:[V.jsx(fr,{htmlFor:F,className:"text-sm font-medium",children:r}),V.jsxs("div",{className:"relative",children:[b&&V.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-base-content/50 pointer-events-none",children:b}),V.jsx(yr,{children:V.jsx(gr,{id:F,...v,type:c?d?"text":"password":t,placeholder:o,className:It("input input-bordered w-full transition",b&&"pl-10",k&&"pr-10",T.error&&"input-error")})}),k&&V.jsx("button",{type:"button",onClick:A,className:"absolute right-3 top-1/2 -translate-y-1/2 text-base-content/50",children:k})]}),V.jsx(mr,{children:T.error&&V.jsx("span",{className:"text-sm text-error",children:T.error.message})})]})})};export{_r as A,zt as C,Fr as F,gr as I,lr as L,pr as a,Ar as b,Vr as l,wr as r};
