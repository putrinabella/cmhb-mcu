const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/BatchDetailDesktop-VmCnQIkO.js","assets/index-BIIL7VVf.js","assets/pdfjs-DdtK18WL.js","assets/index-MH0nPczh.css","assets/use-examination-access-_sAT3Rl3.js","assets/apiClient-C4E4e5VJ.js","assets/index-C0RmN517.js","assets/dateUtils-lVKvXNql.js","assets/BatchDetailMobile-C_fPXrnY.js","assets/fingerprint-C0qeCUNx.js","assets/id-card-C3Tk8csT.js","assets/calendar-BRCx1wEa.js","assets/phone-S_0D9Tnl.js"])))=>i.map(i=>d[i]);
import{c as i,r,g as B,u as C,j as e,b as u,s as f,_ as y}from"./index-BIIL7VVf.js";import{a as b}from"./batchAPI-DA6bdFLf.js";import{g as E}from"./dateUtils-lVKvXNql.js";import{B as d}from"./button-BlcJd5pQ.js";import{X as L,d as M}from"./employeeAPI-DeTAHLRe.js";import{C as D}from"./calendar-BRCx1wEa.js";import{D as S}from"./download-opCvTTK7.js";import"./pdfjs-DdtK18WL.js";import"./apiClient-C4E4e5VJ.js";import"./index-C0RmN517.js";import"./genericApi-Cv9PbjaR.js";/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],T=i("file-text",I);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"M10.3 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.98a2 2 0 0 1 1.69.9l.66 1.2A2 2 0 0 0 12 6h8a2 2 0 0 1 2 2v3.3",key:"128dxu"}],["path",{d:"m14.305 19.53.923-.382",key:"3m78fa"}],["path",{d:"m15.228 16.852-.923-.383",key:"npixar"}],["path",{d:"m16.852 15.228-.383-.923",key:"5xggr7"}],["path",{d:"m16.852 20.772-.383.924",key:"dpfhf9"}],["path",{d:"m19.148 15.228.383-.923",key:"1reyyz"}],["path",{d:"m19.53 21.696-.382-.924",key:"1goivc"}],["path",{d:"m20.772 16.852.924-.383",key:"htqkph"}],["path",{d:"m20.772 19.148.924.383",key:"9w9pjp"}],["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}]],R=i("folder-cog",z);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],O=i("folder-open",H);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],$=i("map-pin",U);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],A=i("search",q);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],P=i("upload",F);function V(){return{downloadBlob:r.useCallback((t,n)=>{const l=window.URL.createObjectURL(t),o=document.createElement("a");o.href=l,o.download=n,document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(l)},[])}}const m=768;function K(){const[s,t]=r.useState(void 0);return r.useEffect(()=>{const n=window.matchMedia(`(max-width: ${m-1}px)`),l=()=>{t(window.innerWidth<m)};return n.addEventListener("change",l),t(window.innerWidth<m),()=>n.removeEventListener("change",l)},[]),!!s}const W=s=>s.toLowerCase().split(" ").map(t=>t?t.charAt(0).toUpperCase()+t.slice(1):"").join(" "),G=r.lazy(()=>y(()=>import("./BatchDetailDesktop-VmCnQIkO.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),J=r.lazy(()=>y(()=>import("./BatchDetailMobile-C_fPXrnY.js"),__vite__mapDeps([8,1,2,3,4,5,6,7,9,10,11,12])));function le(){const{id:s}=B(),[t,n]=r.useState(null),[l,o]=r.useState(!0),[h,p]=r.useState(null),[c,x]=r.useState(""),g=K(),j=C(),{downloadBlob:w}=V();r.useEffect(()=>{s&&(o(!0),b(s).then(a=>n(a.data)).catch(a=>p(a.message||"Terjadi kesalahan")).finally(()=>o(!1)))},[s]);const v=()=>{if(!t||!c)return;const a={...t,examinations:t.examinations.filter(_=>JSON.stringify(_).toLowerCase().includes(c.toLowerCase()))};n(a)},N=()=>{x(""),s&&(o(!0),b(s).then(a=>n(a.data)).catch(a=>p(a.message||"Terjadi kesalahan")).finally(()=>o(!1)))},k=async()=>{try{const a=await M();w(a,"employee_template.xlsx"),f({icon:"success",title:"Berhasil",text:"Template berhasil diunduh!",timer:2e3,showConfirmButton:!1})}catch(a){console.error(a),f({icon:"error",title:"Gagal",text:"Download gagal!",confirmButtonText:"Coba lagi"})}};return l?e.jsx(u,{}):h?e.jsx("p",{className:"text-error",children:h}):t?e.jsxs("div",{className:"p-8 space-y-6",children:[e.jsxs("div",{className:"relative bg-primary/20 rounded-lg p-6 overflow-visible flex items-center",children:[e.jsx("div",{className:"flex-1 flex flex-col justify-center",children:e.jsxs("h1",{className:"text-3xl font-bold text-base-content",children:["Batch ",t.batch_code]})}),e.jsx("div",{className:"absolute right-4 -top-6 w-20 h-20 sm:right-10 sm:-top-10 sm:w-32 sm:h-32 flex items-center justify-center opacity-60",children:e.jsx(O,{className:"w-full h-full text-primary"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 bg-base-100 p-4 rounded-lg shadow-sm border border-base-200",children:[e.jsx(D,{className:"w-6 h-6 text-primary"}),e.jsx("span",{className:"font-medium text-base-content",children:E(t.exam_date)})]}),e.jsxs("div",{className:"flex items-center gap-3 bg-base-100 p-4 rounded-lg shadow-sm border border-base-200",children:[e.jsx($,{className:"w-6 h-6 text-primary"}),e.jsx("span",{className:"font-medium text-base-content",children:t.location})]}),e.jsxs("div",{className:"flex items-center gap-3 bg-base-100 p-4 rounded-lg shadow-sm border border-base-200",children:[e.jsx(R,{className:"w-6 h-6 text-primary"}),e.jsx("span",{className:"font-medium text-base-content",children:W(t.status)||"-"})]}),e.jsxs("div",{className:"flex items-center gap-3 bg-base-100 p-4 rounded-lg shadow-sm border border-base-200",children:[e.jsx(T,{className:"w-6 h-6 text-primary"}),e.jsx("span",{className:"font-medium text-base-content",children:t.notes||"-"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-stretch m-0 gap-2",children:[e.jsx("div",{className:"hidden md:flex flex-1 items-center overflow-hidden bg-primary/20 rounded-t-4xl justify-center border-t border-l border-r border-gray-300",children:e.jsx("p",{className:"break-words p-4 font-bold text-center sm:text-left",children:"Daftar Karyawan"})}),e.jsxs("div",{className:"flex-shrink-0 flex flex-col sm:flex-row gap-2 items-stretch sm:items-center mb-2 w-full sm:w-auto",children:[e.jsxs("div",{className:"flex w-full sm:w-auto",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",placeholder:"Search...",className:"input input-ghost rounded-l-full w-full border border-gray-300 h-10 pr-10",value:c,onChange:a=>x(a.target.value)}),c&&e.jsx("button",{type:"button",onClick:N,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-base-content hover:text-red-500",title:"Reset",children:e.jsx(L,{className:"w-4 h-4"})})]}),e.jsxs(d,{type:"button",className:"bg-primary/20 text-base-content hover:bg-primary-focus rounded-r-full h-10 flex items-center gap-2 px-4 w-auto",onClick:v,children:[e.jsx(A,{className:"size-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Search"})]})]}),e.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[e.jsx("div",{className:"tooltip flex-1 sm:flex-none","data-tip":"Download Template",children:e.jsxs(d,{type:"button",className:"bg-primary/20 text-base-content hover:bg-primary-focus rounded-full h-10 flex items-center justify-center gap-2 w-full sm:w-auto",onClick:k,children:[e.jsx(S,{className:"size-5"}),e.jsx("span",{children:"Download"})]})}),e.jsx("div",{className:"tooltip flex-1 sm:flex-none","data-tip":"Import File",children:e.jsxs(d,{type:"button",className:"bg-primary/20 text-base-content hover:bg-primary-focus rounded-full h-10 flex items-center justify-center gap-2 w-full sm:w-auto",onClick:()=>j(`/dashboard/batch/${s}/import`),children:[e.jsx(P,{className:"size-5"}),e.jsx("span",{children:"Import"})]})})]})]})]}),e.jsx("div",{className:"overflow-x-auto bg-base-100 rounded-bl-lg rounded-br-lg rounded-tr-lg md:border-l md:border-r md:border-b md:border-gray-300",children:e.jsx(r.Suspense,{fallback:e.jsx(u,{}),children:g?e.jsx(J,{examinations:t.examinations||[]}):e.jsx(G,{examinations:t.examinations||[]})})})]}):e.jsx("p",{children:"Batch tidak ditemukan."})}export{le as default};
