import{c as Le,j as _,r as ie,R as x}from"./index-BJuo4wp5.js";import{a as Ot}from"./index-NIGUFBhG.js";import{c as It,a as ge,S as Tt,b as Pt}from"./button-CiQFPDz8.js";/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Bt=Le("eye-off",Ut);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qt=Le("eye",$t);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ht=Le("lock",Wt);function Cr({title:e,subtitle:r,children:t}){return _.jsxs("div",{className:"min-h-screen grid grid-cols-1 md:grid-cols-2 bg-base-100 text-base-content",children:[_.jsx("div",{className:"hidden md:flex items-center justify-center bg-base-200 relative",children:_.jsx("div",{className:"text-center px-8",children:_.jsx("img",{src:"/images/logo.png",alt:"Ciputra Mitra Hospital",className:"w-full max-w-xs md:max-w-lg h-auto object-contain mx-auto"})})}),_.jsxs("div",{className:"relative flex items-center justify-center bg-center p-6 overflow-hidden",children:[_.jsx("div",{className:"absolute inset-0 z-0 opacity-20",style:{backgroundImage:"url('/images/pattern.png')",backgroundRepeat:"repeat-y",backgroundSize:"contain"}}),_.jsxs("div",{className:"relative z-10 w-full max-w-md bg-base-100 p-8 rounded-2xl shadow-2xl border border-base-300",children:[_.jsx("h1",{className:"text-2xl font-bold mb-2 text-center",children:e}),r&&_.jsx("p",{className:"text-sm mb-6 text-center text-base-content/70",children:r}),t]})]})]})}var zt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Kt=zt.reduce((e,r)=>{const t=It(`Primitive.${r}`),i=ie.forwardRef((n,o)=>{const{asChild:c,...d}=n,A=c?t:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),_.jsx(A,{...d,ref:o})});return i.displayName=`Primitive.${r}`,{...e,[r]:i}},{}),Gt="Label",ct=ie.forwardRef((e,r)=>_.jsx(Kt.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));ct.displayName=Gt;var Jt=ct,he=e=>e.type==="checkbox",ne=e=>e instanceof Date,B=e=>e==null;const ft=e=>typeof e=="object";var R=e=>!B(e)&&!Array.isArray(e)&&ft(e)&&!ne(e),yt=e=>R(e)&&e.target?he(e.target)?e.target.checked:e.target.value:e,Yt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,mt=(e,r)=>e.has(Yt(r)),Qt=e=>{const r=e.constructor&&e.constructor.prototype;return R(r)&&r.hasOwnProperty("isPrototypeOf")},je=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function j(e){let r;const t=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(!(je&&(e instanceof Blob||i))&&(t||R(e)))if(r=t?[]:Object.create(Object.getPrototypeOf(e)),!t&&!Qt(e))r=e;else for(const n in e)e.hasOwnProperty(n)&&(r[n]=j(e[n]));else return e;return r}var pe=e=>/^\w*$/.test(e),M=e=>e===void 0,Oe=e=>Array.isArray(e)?e.filter(Boolean):[],Ie=e=>Oe(e.replace(/["|']|\]/g,"").split(/\.|\[/)),y=(e,r,t)=>{if(!r||!R(e))return t;const i=(pe(r)?[r]:Ie(r)).reduce((n,o)=>B(n)?n:n[o],e);return M(i)||i===e?M(e[r])?t:e[r]:i},H=e=>typeof e=="boolean",D=(e,r,t)=>{let i=-1;const n=pe(r)?[r]:Ie(r),o=n.length,c=o-1;for(;++i<o;){const d=n[i];let A=t;if(i!==c){const k=e[d];A=R(k)||Array.isArray(k)?k:isNaN(+n[i+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;e[d]=A,e=e[d]}};const _e={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},G={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Z={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Te=x.createContext(null);Te.displayName="HookFormContext";const Ae=()=>x.useContext(Te),Xt=e=>{const{children:r,...t}=e;return x.createElement(Te.Provider,{value:t},r)};var gt=(e,r,t,i=!0)=>{const n={defaultValues:r._defaultValues};for(const o in e)Object.defineProperty(n,o,{get:()=>{const c=o;return r._proxyFormState[c]!==G.all&&(r._proxyFormState[c]=!i||G.all),t&&(t[c]=!0),e[c]}});return n};const Pe=typeof window<"u"?x.useLayoutEffect:x.useEffect;function ht(e){const r=Ae(),{control:t=r.control,disabled:i,name:n,exact:o}=e||{},[c,d]=x.useState(t._formState),A=x.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Pe(()=>t._subscribe({name:n,formState:A.current,exact:o,callback:k=>{!i&&d({...t._formState,...k})}}),[n,i,o]),x.useEffect(()=>{A.current.isValid&&t._setValid(!0)},[t]),x.useMemo(()=>gt(c,t,A.current,!1),[c,t])}var X=e=>typeof e=="string",bt=(e,r,t,i,n)=>X(e)?(i&&r.watch.add(e),y(t,e,n)):Array.isArray(e)?e.map(o=>(i&&r.watch.add(o),y(t,o))):(i&&(r.watchAll=!0),t),Re=e=>B(e)||!ft(e);function ee(e,r,t=new WeakSet){if(Re(e)||Re(r))return e===r;if(ne(e)&&ne(r))return e.getTime()===r.getTime();const i=Object.keys(e),n=Object.keys(r);if(i.length!==n.length)return!1;if(t.has(e)||t.has(r))return!0;t.add(e),t.add(r);for(const o of i){const c=e[o];if(!n.includes(o))return!1;if(o!=="ref"){const d=r[o];if(ne(c)&&ne(d)||R(c)&&R(d)||Array.isArray(c)&&Array.isArray(d)?!ee(c,d,t):c!==d)return!1}}return!0}function Zt(e){const r=Ae(),{control:t=r.control,name:i,defaultValue:n,disabled:o,exact:c,compute:d}=e||{},A=x.useRef(n),k=x.useRef(d),b=x.useRef(void 0);k.current=d;const F=x.useMemo(()=>t._getWatch(i,A.current),[t,i]),[v,I]=x.useState(k.current?k.current(F):F);return Pe(()=>t._subscribe({name:i,formState:{values:!0},exact:c,callback:W=>{if(!o){const E=bt(i,t._names,W.values||t._formValues,!1,A.current);if(k.current){const T=k.current(E);ee(T,b.current)||(I(T),b.current=T)}else I(E)}}}),[t,o,i,c]),x.useEffect(()=>t._removeUnmounted()),v}function er(e){const r=Ae(),{name:t,disabled:i,control:n=r.control,shouldUnregister:o,defaultValue:c}=e,d=mt(n._names.array,t),A=x.useMemo(()=>y(n._formValues,t,y(n._defaultValues,t,c)),[n,t,c]),k=Zt({control:n,name:t,defaultValue:A,exact:!0}),b=ht({control:n,name:t,exact:!0}),F=x.useRef(e),v=x.useRef(n.register(t,{...e.rules,value:k,...H(e.disabled)?{disabled:e.disabled}:{}}));F.current=e;const I=x.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!y(b.errors,t)},isDirty:{enumerable:!0,get:()=>!!y(b.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!y(b.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!y(b.validatingFields,t)},error:{enumerable:!0,get:()=>y(b.errors,t)}}),[b,t]),W=x.useCallback(h=>v.current.onChange({target:{value:yt(h),name:t},type:_e.CHANGE}),[t]),E=x.useCallback(()=>v.current.onBlur({target:{value:y(n._formValues,t),name:t},type:_e.BLUR}),[t,n._formValues]),T=x.useCallback(h=>{const P=y(n._fields,t);P&&h&&(P._f.ref={focus:()=>h.focus&&h.focus(),select:()=>h.select&&h.select(),setCustomValidity:O=>h.setCustomValidity(O),reportValidity:()=>h.reportValidity()})},[n._fields,t]),oe=x.useMemo(()=>({name:t,value:k,...H(i)||b.disabled?{disabled:b.disabled||i}:{},onChange:W,onBlur:E,ref:T}),[t,i,b.disabled,W,E,T,k]);return x.useEffect(()=>{const h=n._options.shouldUnregister||o;n.register(t,{...F.current.rules,...H(F.current.disabled)?{disabled:F.current.disabled}:{}});const P=(O,C)=>{const te=y(n._fields,O);te&&te._f&&(te._f.mount=C)};if(P(t,!0),h){const O=j(y(n._options.defaultValues,t));D(n._defaultValues,t,O),M(y(n._formValues,t))&&D(n._formValues,t,O)}return!d&&n.register(t),()=>{(d?h&&!n._state.action:h)?n.unregister(t):P(t,!1)}},[t,n,d,o]),x.useEffect(()=>{n._setDisabledField({disabled:i,name:t})},[i,t,n]),x.useMemo(()=>({field:oe,formState:b,fieldState:I}),[oe,b,I])}const tr=e=>e.render(er(e));var rr=(e,r,t,i,n)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:n||!0}}:{},ye=e=>Array.isArray(e)?e:[e],et=()=>{let e=[];return{get observers(){return e},next:n=>{for(const o of e)o.next&&o.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(o=>o!==n)}}),unsubscribe:()=>{e=[]}}},q=e=>R(e)&&!Object.keys(e).length,Ue=e=>e.type==="file",J=e=>typeof e=="function",Ve=e=>{if(!je)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},vt=e=>e.type==="select-multiple",Be=e=>e.type==="radio",sr=e=>Be(e)||he(e),Me=e=>Ve(e)&&e.isConnected;function ir(e,r){const t=r.slice(0,-1).length;let i=0;for(;i<t;)e=M(e)?i++:e[r[i++]];return e}function ar(e){for(const r in e)if(e.hasOwnProperty(r)&&!M(e[r]))return!1;return!0}function L(e,r){const t=Array.isArray(r)?r:pe(r)?[r]:Ie(r),i=t.length===1?e:ir(e,t),n=t.length-1,o=t[n];return i&&delete i[o],n!==0&&(R(i)&&q(i)||Array.isArray(i)&&ar(i))&&L(e,t.slice(0,-1)),e}var xt=e=>{for(const r in e)if(J(e[r]))return!0;return!1};function Fe(e,r={}){const t=Array.isArray(e);if(R(e)||t)for(const i in e)Array.isArray(e[i])||R(e[i])&&!xt(e[i])?(r[i]=Array.isArray(e[i])?[]:{},Fe(e[i],r[i])):B(e[i])||(r[i]=!0);return r}function _t(e,r,t){const i=Array.isArray(e);if(R(e)||i)for(const n in e)Array.isArray(e[n])||R(e[n])&&!xt(e[n])?M(r)||Re(t[n])?t[n]=Array.isArray(e[n])?Fe(e[n],[]):{...Fe(e[n])}:_t(e[n],B(r)?{}:r[n],t[n]):t[n]=!ee(e[n],r[n]);return t}var ce=(e,r)=>_t(e,r,Fe(r));const tt={value:!1,isValid:!1},rt={value:!0,isValid:!0};var Vt=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!M(e[0].attributes.value)?M(e[0].value)||e[0].value===""?rt:{value:e[0].value,isValid:!0}:rt:tt}return tt},Ft=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:i})=>M(e)?e:r?e===""?NaN:e&&+e:t&&X(e)?new Date(e):i?i(e):e;const st={isValid:!1,value:null};var wt=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,st):st;function it(e){const r=e.ref;return Ue(r)?r.files:Be(r)?wt(e.refs).value:vt(r)?[...r.selectedOptions].map(({value:t})=>t):he(r)?Vt(e.refs).value:Ft(M(r.value)?e.ref.value:r.value,e)}var nr=(e,r,t,i)=>{const n={};for(const o of e){const c=y(r,o);c&&D(n,o,c._f)}return{criteriaMode:t,names:[...e],fields:n,shouldUseNativeValidation:i}},we=e=>e instanceof RegExp,fe=e=>M(e)?e:we(e)?e.source:R(e)?we(e.value)?e.value.source:e.value:e,at=e=>({isOnSubmit:!e||e===G.onSubmit,isOnBlur:e===G.onBlur,isOnChange:e===G.onChange,isOnAll:e===G.all,isOnTouch:e===G.onTouched});const nt="AsyncFunction";var or=e=>!!e&&!!e.validate&&!!(J(e.validate)&&e.validate.constructor.name===nt||R(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===nt)),lr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),ot=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const me=(e,r,t,i)=>{for(const n of t||Object.keys(e)){const o=y(e,n);if(o){const{_f:c,...d}=o;if(c){if(c.refs&&c.refs[0]&&r(c.refs[0],n)&&!i)return!0;if(c.ref&&r(c.ref,c.name)&&!i)return!0;if(me(d,r))break}else if(R(d)&&me(d,r))break}}};function lt(e,r,t){const i=y(e,t);if(i||pe(t))return{error:i,name:t};const n=t.split(".");for(;n.length;){const o=n.join("."),c=y(r,o),d=y(e,o);if(c&&!Array.isArray(c)&&t!==o)return{name:t};if(d&&d.type)return{name:o,error:d};if(d&&d.root&&d.root.type)return{name:`${o}.root`,error:d.root};n.pop()}return{name:t}}var ur=(e,r,t,i)=>{t(e);const{name:n,...o}=e;return q(o)||Object.keys(o).length>=Object.keys(r).length||Object.keys(o).find(c=>r[c]===(!i||G.all))},dr=(e,r,t)=>!e||!r||e===r||ye(e).some(i=>i&&(t?i===r:i.startsWith(r)||r.startsWith(i))),cr=(e,r,t,i,n)=>n.isOnAll?!1:!t&&n.isOnTouch?!(r||e):(t?i.isOnBlur:n.isOnBlur)?!e:(t?i.isOnChange:n.isOnChange)?e:!0,fr=(e,r)=>!Oe(y(e,r)).length&&L(e,r),yr=(e,r,t)=>{const i=ye(y(e,t));return D(i,"root",r[t]),D(e,t,i),e},xe=e=>X(e);function ut(e,r,t="validate"){if(xe(e)||Array.isArray(e)&&e.every(xe)||H(e)&&!e)return{type:t,message:xe(e)?e:"",ref:r}}var ue=e=>R(e)&&!we(e)?e:{value:e,message:""},dt=async(e,r,t,i,n,o)=>{const{ref:c,refs:d,required:A,maxLength:k,minLength:b,min:F,max:v,pattern:I,validate:W,name:E,valueAsNumber:T,mount:oe}=e._f,h=y(t,E);if(!oe||r.has(E))return{};const P=d?d[0]:c,O=V=>{n&&P.reportValidity&&(P.setCustomValidity(H(V)?"":V||""),P.reportValidity())},C={},te=Be(c),re=he(c),ke=te||re,K=(T||Ue(c))&&M(c.value)&&M(h)||Ve(c)&&c.value===""||h===""||Array.isArray(h)&&!h.length,ae=rr.bind(null,E,i,C),Y=(V,p,N,U=Z.maxLength,$=Z.minLength)=>{const Q=V?p:N;C[E]={type:V?U:$,message:Q,ref:c,...ae(V?U:$,Q)}};if(o?!Array.isArray(h)||!h.length:A&&(!ke&&(K||B(h))||H(h)&&!h||re&&!Vt(d).isValid||te&&!wt(d).isValid)){const{value:V,message:p}=xe(A)?{value:!!A,message:A}:ue(A);if(V&&(C[E]={type:Z.required,message:p,ref:P,...ae(Z.required,p)},!i))return O(p),C}if(!K&&(!B(F)||!B(v))){let V,p;const N=ue(v),U=ue(F);if(!B(h)&&!isNaN(h)){const $=c.valueAsNumber||h&&+h;B(N.value)||(V=$>N.value),B(U.value)||(p=$<U.value)}else{const $=c.valueAsDate||new Date(h),Q=be=>new Date(new Date().toDateString()+" "+be),de=c.type=="time",le=c.type=="week";X(N.value)&&h&&(V=de?Q(h)>Q(N.value):le?h>N.value:$>new Date(N.value)),X(U.value)&&h&&(p=de?Q(h)<Q(U.value):le?h<U.value:$<new Date(U.value))}if((V||p)&&(Y(!!V,N.message,U.message,Z.max,Z.min),!i))return O(C[E].message),C}if((k||b)&&!K&&(X(h)||o&&Array.isArray(h))){const V=ue(k),p=ue(b),N=!B(V.value)&&h.length>+V.value,U=!B(p.value)&&h.length<+p.value;if((N||U)&&(Y(N,V.message,p.message),!i))return O(C[E].message),C}if(I&&!K&&X(h)){const{value:V,message:p}=ue(I);if(we(V)&&!h.match(V)&&(C[E]={type:Z.pattern,message:p,ref:c,...ae(Z.pattern,p)},!i))return O(p),C}if(W){if(J(W)){const V=await W(h,t),p=ut(V,P);if(p&&(C[E]={...p,...ae(Z.validate,p.message)},!i))return O(p.message),C}else if(R(W)){let V={};for(const p in W){if(!q(V)&&!i)break;const N=ut(await W[p](h,t),P,p);N&&(V={...N,...ae(p,N.message)},O(N.message),i&&(C[E]=V))}if(!q(V)&&(C[E]={ref:P,...V},!i))return C}}return O(!0),C};const mr={mode:G.onSubmit,reValidateMode:G.onChange,shouldFocusError:!0};function gr(e={}){let r={...mr,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:J(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},i={},n=R(r.defaultValues)||R(r.values)?j(r.defaultValues||r.values)||{}:{},o=r.shouldUnregister?{}:j(n),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},A,k=0;const b={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let F={...b};const v={array:et(),state:et()},I=r.criteriaMode===G.all,W=s=>a=>{clearTimeout(k),k=setTimeout(s,a)},E=async s=>{if(!r.disabled&&(b.isValid||F.isValid||s)){const a=r.resolver?q((await re()).errors):await K(i,!0);a!==t.isValid&&v.state.next({isValid:a})}},T=(s,a)=>{!r.disabled&&(b.isValidating||b.validatingFields||F.isValidating||F.validatingFields)&&((s||Array.from(d.mount)).forEach(l=>{l&&(a?D(t.validatingFields,l,a):L(t.validatingFields,l))}),v.state.next({validatingFields:t.validatingFields,isValidating:!q(t.validatingFields)}))},oe=(s,a=[],l,m,f=!0,u=!0)=>{if(m&&l&&!r.disabled){if(c.action=!0,u&&Array.isArray(y(i,s))){const g=l(y(i,s),m.argA,m.argB);f&&D(i,s,g)}if(u&&Array.isArray(y(t.errors,s))){const g=l(y(t.errors,s),m.argA,m.argB);f&&D(t.errors,s,g),fr(t.errors,s)}if((b.touchedFields||F.touchedFields)&&u&&Array.isArray(y(t.touchedFields,s))){const g=l(y(t.touchedFields,s),m.argA,m.argB);f&&D(t.touchedFields,s,g)}(b.dirtyFields||F.dirtyFields)&&(t.dirtyFields=ce(n,o)),v.state.next({name:s,isDirty:Y(s,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else D(o,s,a)},h=(s,a)=>{D(t.errors,s,a),v.state.next({errors:t.errors})},P=s=>{t.errors=s,v.state.next({errors:t.errors,isValid:!1})},O=(s,a,l,m)=>{const f=y(i,s);if(f){const u=y(o,s,M(l)?y(n,s):l);M(u)||m&&m.defaultChecked||a?D(o,s,a?u:it(f._f)):N(s,u),c.mount&&E()}},C=(s,a,l,m,f)=>{let u=!1,g=!1;const w={name:s};if(!r.disabled){if(!l||m){(b.isDirty||F.isDirty)&&(g=t.isDirty,t.isDirty=w.isDirty=Y(),u=g!==w.isDirty);const S=ee(y(n,s),a);g=!!y(t.dirtyFields,s),S?L(t.dirtyFields,s):D(t.dirtyFields,s,!0),w.dirtyFields=t.dirtyFields,u=u||(b.dirtyFields||F.dirtyFields)&&g!==!S}if(l){const S=y(t.touchedFields,s);S||(D(t.touchedFields,s,l),w.touchedFields=t.touchedFields,u=u||(b.touchedFields||F.touchedFields)&&S!==l)}u&&f&&v.state.next(w)}return u?w:{}},te=(s,a,l,m)=>{const f=y(t.errors,s),u=(b.isValid||F.isValid)&&H(a)&&t.isValid!==a;if(r.delayError&&l?(A=W(()=>h(s,l)),A(r.delayError)):(clearTimeout(k),A=null,l?D(t.errors,s,l):L(t.errors,s)),(l?!ee(f,l):f)||!q(m)||u){const g={...m,...u&&H(a)?{isValid:a}:{},errors:t.errors,name:s};t={...t,...g},v.state.next(g)}},re=async s=>{T(s,!0);const a=await r.resolver(o,r.context,nr(s||d.mount,i,r.criteriaMode,r.shouldUseNativeValidation));return T(s),a},ke=async s=>{const{errors:a}=await re(s);if(s)for(const l of s){const m=y(a,l);m?D(t.errors,l,m):L(t.errors,l)}else t.errors=a;return a},K=async(s,a,l={valid:!0})=>{for(const m in s){const f=s[m];if(f){const{_f:u,...g}=f;if(u){const w=d.array.has(u.name),S=f._f&&or(f._f);S&&b.validatingFields&&T([m],!0);const z=await dt(f,d.disabled,o,I,r.shouldUseNativeValidation&&!a,w);if(S&&b.validatingFields&&T([m]),z[u.name]&&(l.valid=!1,a))break;!a&&(y(z,u.name)?w?yr(t.errors,z,u.name):D(t.errors,u.name,z[u.name]):L(t.errors,u.name))}!q(g)&&await K(g,a,l)}}return l.valid},ae=()=>{for(const s of d.unMount){const a=y(i,s);a&&(a._f.refs?a._f.refs.every(l=>!Me(l)):!Me(a._f.ref))&&Se(s)}d.unMount=new Set},Y=(s,a)=>!r.disabled&&(s&&a&&D(o,s,a),!ee(be(),n)),V=(s,a,l)=>bt(s,d,{...c.mount?o:M(a)?n:X(s)?{[s]:a}:a},l,a),p=s=>Oe(y(c.mount?o:n,s,r.shouldUnregister?y(n,s,[]):[])),N=(s,a,l={})=>{const m=y(i,s);let f=a;if(m){const u=m._f;u&&(!u.disabled&&D(o,s,Ft(a,u)),f=Ve(u.ref)&&B(a)?"":a,vt(u.ref)?[...u.ref.options].forEach(g=>g.selected=f.includes(g.value)):u.refs?he(u.ref)?u.refs.forEach(g=>{(!g.defaultChecked||!g.disabled)&&(Array.isArray(f)?g.checked=!!f.find(w=>w===g.value):g.checked=f===g.value||!!f)}):u.refs.forEach(g=>g.checked=g.value===f):Ue(u.ref)?u.ref.value="":(u.ref.value=f,u.ref.type||v.state.next({name:s,values:j(o)})))}(l.shouldDirty||l.shouldTouch)&&C(s,f,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&le(s)},U=(s,a,l)=>{for(const m in a){if(!a.hasOwnProperty(m))return;const f=a[m],u=s+"."+m,g=y(i,u);(d.array.has(s)||R(f)||g&&!g._f)&&!ne(f)?U(u,f,l):N(u,f,l)}},$=(s,a,l={})=>{const m=y(i,s),f=d.array.has(s),u=j(a);D(o,s,u),f?(v.array.next({name:s,values:j(o)}),(b.isDirty||b.dirtyFields||F.isDirty||F.dirtyFields)&&l.shouldDirty&&v.state.next({name:s,dirtyFields:ce(n,o),isDirty:Y(s,u)})):m&&!m._f&&!B(u)?U(s,u,l):N(s,u,l),ot(s,d)&&v.state.next({...t,name:s}),v.state.next({name:c.mount?s:void 0,values:j(o)})},Q=async s=>{c.mount=!0;const a=s.target;let l=a.name,m=!0;const f=y(i,l),u=S=>{m=Number.isNaN(S)||ne(S)&&isNaN(S.getTime())||ee(S,y(o,l,S))},g=at(r.mode),w=at(r.reValidateMode);if(f){let S,z;const ve=a.type?it(f._f):yt(s),se=s.type===_e.BLUR||s.type===_e.FOCUS_OUT,Rt=!lr(f._f)&&!r.resolver&&!y(t.errors,l)&&!f._f.deps||cr(se,y(t.touchedFields,l),t.isSubmitted,w,g),Ce=ot(l,d,se);D(o,l,ve),se?(!a||!a.readOnly)&&(f._f.onBlur&&f._f.onBlur(s),A&&A(0)):f._f.onChange&&f._f.onChange(s);const Ne=C(l,ve,se),Lt=!q(Ne)||Ce;if(!se&&v.state.next({name:l,type:s.type,values:j(o)}),Rt)return(b.isValid||F.isValid)&&(r.mode==="onBlur"?se&&E():se||E()),Lt&&v.state.next({name:l,...Ce?{}:Ne});if(!se&&Ce&&v.state.next({...t}),r.resolver){const{errors:Xe}=await re([l]);if(u(ve),m){const jt=lt(t.errors,i,l),Ze=lt(Xe,i,jt.name||l);S=Ze.error,l=Ze.name,z=q(Xe)}}else T([l],!0),S=(await dt(f,d.disabled,o,I,r.shouldUseNativeValidation))[l],T([l]),u(ve),m&&(S?z=!1:(b.isValid||F.isValid)&&(z=await K(i,!0)));m&&(f._f.deps&&le(f._f.deps),te(l,z,S,Ne))}},de=(s,a)=>{if(y(t.errors,a)&&s.focus)return s.focus(),1},le=async(s,a={})=>{let l,m;const f=ye(s);if(r.resolver){const u=await ke(M(s)?s:f);l=q(u),m=s?!f.some(g=>y(u,g)):l}else s?(m=(await Promise.all(f.map(async u=>{const g=y(i,u);return await K(g&&g._f?{[u]:g}:g)}))).every(Boolean),!(!m&&!t.isValid)&&E()):m=l=await K(i);return v.state.next({...!X(s)||(b.isValid||F.isValid)&&l!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:l}:{},errors:t.errors}),a.shouldFocus&&!m&&me(i,de,s?f:d.mount),m},be=s=>{const a={...c.mount?o:n};return M(s)?a:X(s)?y(a,s):s.map(l=>y(a,l))},We=(s,a)=>({invalid:!!y((a||t).errors,s),isDirty:!!y((a||t).dirtyFields,s),error:y((a||t).errors,s),isValidating:!!y(t.validatingFields,s),isTouched:!!y((a||t).touchedFields,s)}),kt=s=>{s&&ye(s).forEach(a=>L(t.errors,a)),v.state.next({errors:s?t.errors:{}})},He=(s,a,l)=>{const m=(y(i,s,{_f:{}})._f||{}).ref,f=y(t.errors,s)||{},{ref:u,message:g,type:w,...S}=f;D(t.errors,s,{...S,...a,ref:m}),v.state.next({name:s,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&m&&m.focus&&m.focus()},St=(s,a)=>J(s)?v.state.subscribe({next:l=>"values"in l&&s(V(void 0,a),l)}):V(s,a,!0),ze=s=>v.state.subscribe({next:a=>{dr(s.name,a.name,s.exact)&&ur(a,s.formState||b,Mt,s.reRenderRoot)&&s.callback({values:{...o},...t,...a,defaultValues:n})}}).unsubscribe,Dt=s=>(c.mount=!0,F={...F,...s.formState},ze({...s,formState:F})),Se=(s,a={})=>{for(const l of s?ye(s):d.mount)d.mount.delete(l),d.array.delete(l),a.keepValue||(L(i,l),L(o,l)),!a.keepError&&L(t.errors,l),!a.keepDirty&&L(t.dirtyFields,l),!a.keepTouched&&L(t.touchedFields,l),!a.keepIsValidating&&L(t.validatingFields,l),!r.shouldUnregister&&!a.keepDefaultValue&&L(n,l);v.state.next({values:j(o)}),v.state.next({...t,...a.keepDirty?{isDirty:Y()}:{}}),!a.keepIsValid&&E()},Ke=({disabled:s,name:a})=>{(H(s)&&c.mount||s||d.disabled.has(a))&&(s?d.disabled.add(a):d.disabled.delete(a))},De=(s,a={})=>{let l=y(i,s);const m=H(a.disabled)||H(r.disabled);return D(i,s,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:s}},name:s,mount:!0,...a}}),d.mount.add(s),l?Ke({disabled:H(a.disabled)?a.disabled:r.disabled,name:s}):O(s,!0,a.value),{...m?{disabled:a.disabled||r.disabled}:{},...r.progressive?{required:!!a.required,min:fe(a.min),max:fe(a.max),minLength:fe(a.minLength),maxLength:fe(a.maxLength),pattern:fe(a.pattern)}:{},name:s,onChange:Q,onBlur:Q,ref:f=>{if(f){De(s,a),l=y(i,s);const u=M(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,g=sr(u),w=l._f.refs||[];if(g?w.find(S=>S===u):u===l._f.ref)return;D(i,s,{_f:{...l._f,...g?{refs:[...w.filter(Me),u,...Array.isArray(y(n,s))?[{}]:[]],ref:{type:u.type,name:s}}:{ref:u}}}),O(s,!1,void 0,u)}else l=y(i,s,{}),l._f&&(l._f.mount=!1),(r.shouldUnregister||a.shouldUnregister)&&!(mt(d.array,s)&&c.action)&&d.unMount.add(s)}}},Ee=()=>r.shouldFocusError&&me(i,de,d.mount),Et=s=>{H(s)&&(v.state.next({disabled:s}),me(i,(a,l)=>{const m=y(i,l);m&&(a.disabled=m._f.disabled||s,Array.isArray(m._f.refs)&&m._f.refs.forEach(f=>{f.disabled=m._f.disabled||s}))},0,!1))},Ge=(s,a)=>async l=>{let m;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let f=j(o);if(v.state.next({isSubmitting:!0}),r.resolver){const{errors:u,values:g}=await re();t.errors=u,f=j(g)}else await K(i);if(d.disabled.size)for(const u of d.disabled)L(f,u);if(L(t.errors,"root"),q(t.errors)){v.state.next({errors:{}});try{await s(f,l)}catch(u){m=u}}else a&&await a({...t.errors},l),Ee(),setTimeout(Ee);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:q(t.errors)&&!m,submitCount:t.submitCount+1,errors:t.errors}),m)throw m},Ct=(s,a={})=>{y(i,s)&&(M(a.defaultValue)?$(s,j(y(n,s))):($(s,a.defaultValue),D(n,s,j(a.defaultValue))),a.keepTouched||L(t.touchedFields,s),a.keepDirty||(L(t.dirtyFields,s),t.isDirty=a.defaultValue?Y(s,j(y(n,s))):Y()),a.keepError||(L(t.errors,s),b.isValid&&E()),v.state.next({...t}))},Je=(s,a={})=>{const l=s?j(s):n,m=j(l),f=q(s),u=f?n:m;if(a.keepDefaultValues||(n=l),!a.keepValues){if(a.keepDirtyValues){const g=new Set([...d.mount,...Object.keys(ce(n,o))]);for(const w of Array.from(g))y(t.dirtyFields,w)?D(u,w,y(o,w)):$(w,y(u,w))}else{if(je&&M(s))for(const g of d.mount){const w=y(i,g);if(w&&w._f){const S=Array.isArray(w._f.refs)?w._f.refs[0]:w._f.ref;if(Ve(S)){const z=S.closest("form");if(z){z.reset();break}}}}if(a.keepFieldsRef)for(const g of d.mount)$(g,y(u,g));else i={}}o=r.shouldUnregister?a.keepDefaultValues?j(n):{}:j(u),v.array.next({values:{...u}}),v.state.next({values:{...u}})}d={mount:a.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!b.isValid||!!a.keepIsValid||!!a.keepDirtyValues,c.watch=!!r.shouldUnregister,v.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:f?!1:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!ee(s,n)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:f?{}:a.keepDirtyValues?a.keepDefaultValues&&o?ce(n,o):t.dirtyFields:a.keepDefaultValues&&s?ce(n,s):a.keepDirty?t.dirtyFields:{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:n})},Ye=(s,a)=>Je(J(s)?s(o):s,a),Nt=(s,a={})=>{const l=y(i,s),m=l&&l._f;if(m){const f=m.refs?m.refs[0]:m.ref;f.focus&&(f.focus(),a.shouldSelect&&J(f.select)&&f.select())}},Mt=s=>{t={...t,...s}},Qe={control:{register:De,unregister:Se,getFieldState:We,handleSubmit:Ge,setError:He,_subscribe:ze,_runSchema:re,_focusError:Ee,_getWatch:V,_getDirty:Y,_setValid:E,_setFieldArray:oe,_setDisabledField:Ke,_setErrors:P,_getFieldArray:p,_reset:Je,_resetDefaultValues:()=>J(r.defaultValues)&&r.defaultValues().then(s=>{Ye(s,r.resetOptions),v.state.next({isLoading:!1})}),_removeUnmounted:ae,_disableForm:Et,_subjects:v,_proxyFormState:b,get _fields(){return i},get _formValues(){return o},get _state(){return c},set _state(s){c=s},get _defaultValues(){return n},get _names(){return d},set _names(s){d=s},get _formState(){return t},get _options(){return r},set _options(s){r={...r,...s}}},subscribe:Dt,trigger:le,register:De,handleSubmit:Ge,watch:St,setValue:$,getValues:be,reset:Ye,resetField:Ct,clearErrors:kt,unregister:Se,setError:He,setFocus:Nt,getFieldState:We};return{...Qe,formControl:Qe}}function hr(e={}){const r=x.useRef(void 0),t=x.useRef(void 0),[i,n]=x.useState({isDirty:!1,isValidating:!1,isLoading:J(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:J(e.defaultValues)?void 0:e.defaultValues});if(!r.current)if(e.formControl)r.current={...e.formControl,formState:i},e.defaultValues&&!J(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:c,...d}=gr(e);r.current={...d,formState:i}}const o=r.current.control;return o._options=e,Pe(()=>{const c=o._subscribe({formState:o._proxyFormState,callback:()=>n({...o._formState}),reRenderRoot:!0});return n(d=>({...d,isReady:!0})),o._formState.isReady=!0,c},[o]),x.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),x.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),x.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),x.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),x.useEffect(()=>{if(o._proxyFormState.isDirty){const c=o._getDirty();c!==i.isDirty&&o._subjects.state.next({isDirty:c})}},[o,i.isDirty]),x.useEffect(()=>{e.values&&!ee(e.values,t.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),t.current=e.values,n(c=>({...c}))):o._resetDefaultValues()},[o,e.values]),x.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),r.current.formState=gt(i,o),r.current}function br({className:e,...r}){return _.jsx(Jt,{"data-slot":"label",className:ge("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...r})}const vr=Xt,xr=ie.createContext({}),$e=()=>{const e=ie.useContext(xr),r=ie.useContext(pt),{getFieldState:t}=Ae(),i=ht({name:e.name}),n=t(e.name,i);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=r;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...n}},pt=ie.createContext({});function _r({className:e,...r}){const t=ie.useId();return _.jsx(pt.Provider,{value:{id:t},children:_.jsx("div",{"data-slot":"form-item",className:ge("grid gap-2",e),...r})})}function Vr({className:e,...r}){const{error:t,formItemId:i}=$e();return _.jsx(br,{"data-slot":"form-label","data-error":!!t,className:ge("data-[error=true]:text-destructive",e),htmlFor:i,...r})}function Fr({...e}){const{error:r,formItemId:t,formDescriptionId:i,formMessageId:n}=$e();return _.jsx(Tt,{"data-slot":"form-control",id:t,"aria-describedby":r?`${i} ${n}`:`${i}`,"aria-invalid":!!r,...e})}function wr({className:e,...r}){const{error:t,formMessageId:i}=$e(),n=t?String(t?.message??""):r.children;return n?_.jsx("p",{"data-slot":"form-message",id:i,className:ge("text-destructive text-sm",e),...r,children:n}):null}function Nr({defaultValues:e,onSubmit:r,children:t}){const i=hr({defaultValues:e});return _.jsx(vr,{...i,children:_.jsx("form",{onSubmit:i.handleSubmit(r),children:t({control:i.control,handleSubmit:i.handleSubmit,getValues:i.getValues,setValue:i.setValue,watch:i.watch,reset:i.reset})})})}const qe=Ot.create({baseURL:"https://service.ciputramitrahospital.id/api",headers:{"Content-Type":"application/json"}});qe.interceptors.request.use(e=>{const r=localStorage.getItem("user");if(r&&e.headers){const t=JSON.parse(r);t?.token&&(e.headers.Authorization=`Bearer ${t.token}`)}return e},e=>Promise.reject(e));qe.interceptors.response.use(e=>e,e=>(e.response?.status,Promise.reject(e)));const At=async(e,r,t,i)=>{try{return(await qe.request({method:e,url:r,data:t,...i})).data}catch(n){throw n?.response?.data??{message:n.message}}},Mr=async(e,r)=>{const t=await At("post","/login",{email:e,password:r});return{token:t.data.token,user:{id:t.data.id,email:t.data.email}}},Rr=e=>At("post","/register",e);function pr({className:e,type:r,...t}){return _.jsx("input",{type:r,"data-slot":"input",className:ge("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...t})}const Ar=({name:e,label:r,type:t="text",control:i,rules:n,placeholder:o,showToggle:c,showValue:d,onToggle:A,icon:k,leftIcon:b})=>{const F=`form-${e}`;return _.jsx(tr,{name:e,control:i,rules:n,render:({field:v,fieldState:I})=>_.jsxs(_r,{children:[_.jsx(Vr,{htmlFor:F,className:"text-sm font-medium",children:r}),_.jsxs("div",{className:"relative",children:[b&&_.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-base-content/50 pointer-events-none",children:b}),_.jsx(Fr,{children:_.jsx(pr,{id:F,...v,type:c?d?"text":"password":t,placeholder:o,className:Pt("input input-bordered w-full transition",b&&"pl-10",k&&"pr-10",I.error&&"input-error")})}),k&&_.jsx("button",{type:"button",onClick:A,className:"absolute right-3 top-1/2 -translate-y-1/2 text-base-content/50",children:k})]}),_.jsx(wr,{children:I.error&&_.jsx("span",{className:"text-sm text-error",children:I.error.message})})]})})};function Lr({control:e}){const[r,t]=ie.useState(!1);return _.jsx(Ar,{control:e,name:"password",label:"Password",placeholder:"Masukkan password",type:r?"text":"password",rules:{required:"Password wajib diisi"},showToggle:!0,showValue:r,onToggle:()=>t(i=>!i),icon:r?_.jsx(Bt,{className:"w-5 h-5"}):_.jsx(qt,{className:"w-5 h-5"}),leftIcon:_.jsx(Ht,{className:"w-5 h-5"})})}export{Cr as A,Bt as E,Nr as F,Ht as L,Lr as P,Ar as a,qt as b,Mr as l,Rr as r};
