const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/BatchDetailDesktop-Cn-RSvz3.js","assets/index-qf8s-zRF.js","assets/pdfjs-BzSgQdvw.js","assets/index-Bc5RcBPt.css","assets/use-examination-access-Ct2Hk8ga.js","assets/examinationsApi-Dyv80Zp2.js","assets/apiClient-BmXS3_vS.js","assets/index-NIGUFBhG.js","assets/dateUtils-onPuWgd0.js","assets/genericApi-B1yEKLU8.js","assets/employeeAPI-BD9ofL7L.js","assets/BatchDetailMobile-ugEIMGy0.js","assets/fingerprint-DJyXRt3r.js","assets/calendar-DIXATJyc.js","assets/phone-DJiYpqhL.js"])))=>i.map(i=>d[i]);
import{c as i,r as s,g as B,u as D,j as e,b as p,s as f,_ as g}from"./index-qf8s-zRF.js";import{b,g as E}from"./dateUtils-onPuWgd0.js";import{B as d}from"./button-C8zhA43l.js";import{X as L,d as M}from"./employeeAPI-BD9ofL7L.js";import{C}from"./calendar-DIXATJyc.js";import{D as S}from"./download-CLgJ2Pgz.js";import"./pdfjs-BzSgQdvw.js";import"./apiClient-BmXS3_vS.js";import"./index-NIGUFBhG.js";import"./genericApi-B1yEKLU8.js";/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],T=i("file-text",I);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],z=i("folder-open",R);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],O=i("map-pin",H);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],U=i("search",P);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],q=i("upload",$);function F(){return{downloadBlob:s.useCallback((t,n)=>{const l=window.URL.createObjectURL(t),r=document.createElement("a");r.href=l,r.download=n,document.body.appendChild(r),r.click(),r.remove(),window.URL.revokeObjectURL(l)},[])}}const m=768;function A(){const[o,t]=s.useState(void 0);return s.useEffect(()=>{const n=window.matchMedia(`(max-width: ${m-1}px)`),l=()=>{t(window.innerWidth<m)};return n.addEventListener("change",l),t(window.innerWidth<m),()=>n.removeEventListener("change",l)},[]),!!o}const K=s.lazy(()=>g(()=>import("./BatchDetailDesktop-Cn-RSvz3.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),V=s.lazy(()=>g(()=>import("./BatchDetailMobile-ugEIMGy0.js"),__vite__mapDeps([11,1,2,3,4,5,6,7,8,9,10,12,13,14])));function se(){const{id:o}=B(),[t,n]=s.useState(null),[l,r]=s.useState(!0),[h,x]=s.useState(null),[c,u]=s.useState(""),j=A(),y=D(),{downloadBlob:w}=F();s.useEffect(()=>{o&&(r(!0),b(o).then(a=>n(a.data)).catch(a=>x(a.message||"Terjadi kesalahan")).finally(()=>r(!1)))},[o]);const v=()=>{if(!t||!c)return;const a={...t,examinations:t.examinations.filter(_=>JSON.stringify(_).toLowerCase().includes(c.toLowerCase()))};n(a)},N=()=>{u(""),o&&(r(!0),b(o).then(a=>n(a.data)).catch(a=>x(a.message||"Terjadi kesalahan")).finally(()=>r(!1)))},k=async()=>{try{const a=await M();w(a,"employee_template.xlsx"),f({icon:"success",title:"Berhasil",text:"Template berhasil diunduh!",timer:2e3,showConfirmButton:!1})}catch(a){console.error(a),f({icon:"error",title:"Gagal",text:"Download gagal!",confirmButtonText:"Coba lagi"})}};return l?e.jsx(p,{}):h?e.jsx("p",{className:"text-error",children:h}):t?e.jsxs("div",{className:"p-8 space-y-6",children:[e.jsxs("div",{className:"relative bg-primary/20 rounded-lg p-6 overflow-visible flex items-center",children:[e.jsx("div",{className:"flex-1 flex flex-col justify-center",children:e.jsxs("h1",{className:"text-3xl font-bold text-base-content",children:["Batch ",t.batch_code]})}),e.jsx("div",{className:"absolute right-4 -top-6 w-20 h-20 sm:right-10 sm:-top-10 sm:w-32 sm:h-32 flex items-center justify-center opacity-60",children:e.jsx(z,{className:"w-full h-full text-primary"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 bg-base-100 p-4 rounded-lg shadow-sm border border-base-200",children:[e.jsx(C,{className:"w-6 h-6 text-primary"}),e.jsx("span",{className:"font-medium text-base-content",children:E(t.exam_date)})]}),e.jsxs("div",{className:"flex items-center gap-3 bg-base-100 p-4 rounded-lg shadow-sm border border-base-200",children:[e.jsx(O,{className:"w-6 h-6 text-primary"}),e.jsx("span",{className:"font-medium text-base-content",children:t.location})]}),e.jsxs("div",{className:"flex items-center gap-3 bg-base-100 p-4 rounded-lg shadow-sm border border-base-200",children:[e.jsx(T,{className:"w-6 h-6 text-primary"}),e.jsx("span",{className:"font-medium text-base-content",children:t.notes||"-"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-stretch m-0 gap-2",children:[e.jsx("div",{className:"hidden md:flex flex-1 items-center overflow-hidden bg-primary/20 rounded-t-4xl justify-center border-t border-l border-r border-gray-300",children:e.jsx("p",{className:"break-words p-4 font-bold text-center sm:text-left",children:"Daftar Karyawan"})}),e.jsxs("div",{className:"flex-shrink-0 flex flex-col sm:flex-row gap-2 items-stretch sm:items-center mb-2 w-full sm:w-auto",children:[e.jsxs("div",{className:"flex w-full sm:w-auto",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",placeholder:"Search...",className:"input input-ghost rounded-l-full w-full border border-gray-300 h-10 pr-10",value:c,onChange:a=>u(a.target.value)}),c&&e.jsx("button",{type:"button",onClick:N,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-red-500",title:"Reset",children:e.jsx(L,{className:"w-4 h-4"})})]}),e.jsxs(d,{type:"button",className:"bg-primary/20 text-base-content hover:bg-primary-focus rounded-r-full h-10 flex items-center gap-2 px-4 w-auto",onClick:v,children:[e.jsx(U,{className:"size-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Search"})]})]}),e.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[e.jsx("div",{className:"tooltip flex-1 sm:flex-none","data-tip":"Download Template",children:e.jsxs(d,{type:"button",className:"bg-primary/20 text-base-content hover:bg-primary-focus rounded-full h-10 flex items-center justify-center gap-2 w-full sm:w-auto",onClick:k,children:[e.jsx(S,{className:"size-5"}),e.jsx("span",{children:"Download"})]})}),e.jsx("div",{className:"tooltip flex-1 sm:flex-none","data-tip":"Import File",children:e.jsxs(d,{type:"button",className:"bg-primary/20 text-base-content hover:bg-primary-focus rounded-full h-10 flex items-center justify-center gap-2 w-full sm:w-auto",onClick:()=>y(`/dashboard/batch/${o}/import`),children:[e.jsx(q,{className:"size-5"}),e.jsx("span",{children:"Import"})]})})]})]})]}),e.jsx("div",{className:"overflow-x-auto bg-base-100 rounded-bl-lg rounded-br-lg rounded-tr-lg md:border-l md:border-r md:border-b md:border-gray-300",children:e.jsx(s.Suspense,{fallback:e.jsx(p,{}),children:j?e.jsx(V,{examinations:t.examinations||[]}):e.jsx(K,{examinations:t.examinations||[]})})})]}):e.jsx("p",{children:"Batch tidak ditemukan."})}export{se as default};
