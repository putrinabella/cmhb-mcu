import{u as o,s as n,r as l,j as a,U as m,L as u}from"./index-IQ2tqIO1.js";import{r as c,b as d,A as p,F as f}from"./FormInput-BfPccwuq.js";import{B as g}from"./button-DxG_3Wvm.js";import{L as w,a as x,b as h,E as j,P as k}from"./PasswordField-Ds7dOYWC.js";import{T as b}from"./TextField-BddFKjru.js";import"./pdfjs-DdtK18WL.js";import"./apiClient-BmXS3_vS.js";import"./index-NIGUFBhG.js";import"./mail-D1zeQPQn.js";function y(){const t=o();return{registerUser:async s=>{try{await c(s),n({title:"Pendaftaran Berhasil",text:"Akun Anda telah dibuat. Silakan login.",icon:"success",timer:1500,showConfirmButton:!1,onClose:()=>t("/login")})}catch(r){let e=r?.meta?.message||r?.message||"Terjadi kesalahan";e=e.replace(/^Register Gagal\s*/,""),n({title:"Pendaftaran Gagal",text:e,icon:"error"})}}}}function N({control:t,getValues:i}){const[s,r]=l.useState(!1);return a.jsx(d,{control:t,name:"password_confirmation",label:"Konfirmasi Password",placeholder:"Ulangi password",type:s?"text":"password",rules:{required:"Konfirmasi password wajib diisi",validate:e=>e===i("password")||"Password tidak cocok"},showToggle:!0,showValue:s,onToggle:()=>r(e=>!e),icon:s?a.jsx(x,{className:"w-5 h-5"}):a.jsx(h,{className:"w-5 h-5"}),leftIcon:a.jsx(w,{className:"w-5 h-5"})})}function L(){const{registerUser:t}=y(),i=s=>{t(s)};return a.jsxs(p,{title:"Daftar Akun",subtitle:"Buat akun baru untuk mulai menggunakan layanan kami.",children:[a.jsx(f,{defaultValues:{name:"",email:"",password:"",password_confirmation:""},onSubmit:i,children:({control:s,getValues:r})=>a.jsxs("div",{className:"space-y-4",children:[a.jsx(b,{control:s,name:"name",label:"Nama",placeholder:"Masukkan nama lengkap",rules:{required:"Nama wajib diisi"},leftIcon:a.jsx(m,{className:"w-5 h-5"})}),a.jsx(j,{control:s}),a.jsx(k,{control:s}),a.jsx(N,{control:s,getValues:r}),a.jsx(g,{type:"submit",className:"w-full bg-primary text-primary-content hover:bg-primary-focus",children:"Daftar"})]})}),a.jsxs("p",{className:"text-sm text-center mt-4 text-base-content/70",children:["Sudah punya akun?"," ",a.jsx(u,{to:"/login",className:"text-primary hover:underline",children:"Masuk di sini"})]})]})}export{L as default};
