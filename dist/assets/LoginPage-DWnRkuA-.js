import{u as m,a as u,s as o,j as e,L as c}from"./index-huMUteRP.js";import{l as g,A as p,F as d}from"./authService-BeWni7Sk.js";import{B as x}from"./button-pSoYOLUA.js";import{E as k}from"./EmailField-DPuKHg6M.js";import{P as h}from"./PasswordField-DO4w7-EQ.js";import"./apiClient-BmXS3_vS.js";import"./index-NIGUFBhG.js";import"./mail-CvmTHCg7.js";function f(){const t=m(),{login:i,setToken:s}=u();return{loginUser:async(r,l)=>{try{const a=await g(r,l);a.token?(i(a.token,a.user),s(a.token)):console.warn("Token tidak ditemukan"),o({title:"Login Berhasil",text:"Selamat datang kembali!",icon:"success",timer:1e3,showConfirmButton:!1,onClose:()=>t("/")})}catch(a){let n=a?.meta?.message||a?.message||"Terjadi kesalahan";n=n.replace(/^Login Gagal\s*/,""),o({title:"Login Gagal",text:n,icon:"error"})}}}}function P(){const{loginUser:t}=f(),i=s=>t(s.email,s.password);return e.jsxs(p,{title:"Login",subtitle:"Masukkan email dan kata sandi untuk masuk.",children:[e.jsx(d,{defaultValues:{email:"na@gmail.com",password:"Putri@12"},onSubmit:i,children:({control:s})=>e.jsxs("div",{className:"space-y-4",children:[e.jsx(k,{control:s}),e.jsx(h,{control:s}),e.jsx(x,{type:"submit",className:"w-full bg-primary text-primary-content hover:bg-primary-focus",children:"Masuk"})]})}),e.jsxs("p",{className:"text-sm text-center mt-4 text-base-content/70",children:["Belum punya akun?"," ",e.jsx(c,{to:"/register",className:"text-primary hover:underline",children:"Daftar di sini"})]})]})}export{P as default};
