import{c as O,j as m,l as $}from"./index-qf8s-zRF.js";import{a as A,r as W}from"./pdfjs-BzSgQdvw.js";import{D as Y}from"./download-CLgJ2Pgz.js";/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M5 12h14",key:"1ays0h"}]],H=O("minus",G);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],J=O("plus",X);var M={exports:{}},z={},I;function Q(){if(I)return z;I=1;var l=A();function E(t){var r=Object.create(null);return t&&Object.keys(t).forEach((function(n){if(n!=="default"){var c=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,c.get?c:{enumerable:!0,get:function(){return t[n]}})}})),r.default=t,Object.freeze(r)}var e=E(W()),h=function(){return e.createElement(l.Icon,{ignoreDirection:!0,size:16},e.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10
            M10.5,5.499v10`}))},g=function(){return e.createElement(l.Icon,{ignoreDirection:!0,size:16},e.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10`}))},f=function(){return f=Object.assign||function(t){for(var r,n=1,c=arguments.length;n<c;n++)for(var i in r=arguments[n])Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);return t},f.apply(this,arguments)},b=function(t){var r=e.useState(t.get("scale")||0),n=r[0],c=r[1],i=function(o){c(o)};return e.useEffect((function(){return t.subscribe("scale",i),function(){t.unsubscribe("scale",i)}}),[]),{scale:n}},C=function(t){var r=t.children,n=t.store;return(r||function(c){return e.createElement(e.Fragment,null,"".concat(Math.round(100*c.scale),"%"))})({scale:b(n).scale})},d={passive:!1},p=null,P=function(t){var r=t.pagesContainerRef,n=t.store,c=l.useDebounceCallback((function(o){var a=n.get("zoom");a&&a(o)}),40),i=function(o){if(o.ctrlKey){o.preventDefault();var a=o.target.getBoundingClientRect(),u=1-o.deltaY/100,s=o.clientX-a.left,v=o.clientY-a.top,x=n.get("scale"),k=(p||(p=document.createElementNS("http://www.w3.org/2000/svg","svg"))).createSVGMatrix().translate(s,v).scale(u).translate(-s,-v).scale(x);c(k.a)}};return l.useIsomorphicLayoutEffect((function(){var o=r.current;if(o)return o.addEventListener("wheel",i,d),function(){o.removeEventListener("wheel",i)}}),[]),e.createElement(e.Fragment,null)},y=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],j=function(t){return y.find((function(r){return r>t}))||t},S=function(t){var r=y.findIndex((function(n){return n>=t}));return r===-1||r===0?t:y[r-1]},N=function(t){var r=t.containerRef,n=t.store,c=function(i){if(!i.shiftKey&&!i.altKey&&(l.isMac()?i.metaKey:i.ctrlKey)){var o=r.current;if(o&&document.activeElement&&o.contains(document.activeElement)){var a=n.get("zoom");if(a){var u=n.get("scale")||1,s=1;switch(i.key){case"-":s=S(u);break;case"=":s=j(u);break;case"0":s=1;break;default:s=u}s!==u&&(i.preventDefault(),a(s))}}}};return e.useEffect((function(){if(r.current)return document.addEventListener("keydown",c),function(){document.removeEventListener("keydown",c)}}),[r.current]),e.createElement(e.Fragment,null)},R=[.5,.75,1,1.25,1.5,2,3,4],D={left:0,top:8},Z=function(t){var r=t.levels,n=r===void 0?R:r,c=t.scale,i=t.onZoom,o=e.useContext(l.LocalizationContext).l10n,a=e.useContext(l.ThemeContext).direction===l.TextDirection.RightToLeft,u=o&&o.zoom?o.zoom.zoomDocument:"Zoom document";return e.createElement(l.Popover,{ariaControlsSuffix:"zoom",ariaHasPopup:"menu",position:l.Position.BottomCenter,target:function(s){return e.createElement(l.MinimalButton,{ariaLabel:u,testId:"zoom__popover-target",onClick:function(){s()}},e.createElement("span",{className:"rpv-zoom__popover-target"},e.createElement("span",{"data-testid":"zoom__popover-target-scale",className:l.classNames({"rpv-zoom__popover-target-scale":!0,"rpv-zoom__popover-target-scale--ltr":!a,"rpv-zoom__popover-target-scale--rtl":a})},Math.round(100*c),"%"),e.createElement("span",{className:"rpv-zoom__popover-target-arrow"})))},content:function(s){return e.createElement(l.Menu,null,Object.keys(l.SpecialZoomLevel).map((function(v){var x=v;return e.createElement(l.MenuItem,{key:x,onClick:function(){s(),i(x)}},(function(k){switch(k){case l.SpecialZoomLevel.ActualSize:return o&&o.zoom?o.zoom.actualSize:"Actual size";case l.SpecialZoomLevel.PageFit:return o&&o.zoom?o.zoom.pageFit:"Page fit";case l.SpecialZoomLevel.PageWidth:return o&&o.zoom?o.zoom.pageWidth:"Page width"}})(x))})),e.createElement(l.MenuDivider,null),n.map((function(v){return e.createElement(l.MenuItem,{key:v,onClick:function(){s(),i(v)}},"".concat(Math.round(100*v),"%"))})))},offset:D,closeOnClickOutside:!0,closeOnEscape:!0})},B=function(t){var r=t.children,n=t.levels,c=t.store;return(r||function(i){return e.createElement(Z,{levels:n,scale:i.scale,onZoom:i.onZoom})})({scale:b(c).scale,onZoom:function(i){var o=c.get("zoom");o&&o(i)}})},F={left:0,top:8},w=function(t){var r=t.enableShortcuts,n=t.onClick,c=e.useContext(l.LocalizationContext).l10n,i=c&&c.zoom?c.zoom.zoomIn:"Zoom in",o=r?l.isMac()?"Meta+=":"Ctrl+=":"";return e.createElement(l.Tooltip,{ariaControlsSuffix:"zoom-in",position:l.Position.BottomCenter,target:e.createElement(l.MinimalButton,{ariaKeyShortcuts:o,ariaLabel:i,testId:"zoom__in-button",onClick:n},e.createElement(h,null)),content:function(){return i},offset:F})},K=function(t){var r=t.children,n=t.enableShortcuts,c=t.store,i=b(c).scale;return(r||w)({enableShortcuts:n,onClick:function(){var o=c.get("zoom");o&&o(j(i))}})},q=function(t){var r=t.onClick,n=e.useContext(l.LocalizationContext).l10n,c=n&&n.zoom?n.zoom.zoomIn:"Zoom in";return e.createElement(l.MenuItem,{icon:e.createElement(h,null),testId:"zoom__in-menu",onClick:r},c)},T={left:0,top:8},_=function(t){var r=t.enableShortcuts,n=t.onClick,c=e.useContext(l.LocalizationContext).l10n,i=c&&c.zoom?c.zoom.zoomOut:"Zoom out",o=r?l.isMac()?"Meta+-":"Ctrl+-":"";return e.createElement(l.Tooltip,{ariaControlsSuffix:"zoom-out",position:l.Position.BottomCenter,target:e.createElement(l.MinimalButton,{ariaKeyShortcuts:o,ariaLabel:i,testId:"zoom__out-button",onClick:n},e.createElement(g,null)),content:function(){return i},offset:T})},V=function(t){var r=t.children,n=t.enableShortcuts,c=t.store,i=b(c).scale;return(r||_)({enableShortcuts:n,onClick:function(){var o=c.get("zoom");o&&o(S(i))}})},U=function(t){var r=t.onClick,n=e.useContext(l.LocalizationContext).l10n,c=n&&n.zoom?n.zoom.zoomOut:"Zoom out";return e.createElement(l.MenuItem,{icon:e.createElement(g,null),testId:"zoom__out-menu",onClick:r},c)};return z.ZoomInIcon=h,z.ZoomOutIcon=g,z.zoomPlugin=function(t){var r=e.useMemo((function(){return Object.assign({},{enableShortcuts:!0},t)}),[]),n=e.useMemo((function(){return l.createStore({})}),[]),c=function(a){return e.createElement(K,f({enableShortcuts:r.enableShortcuts},a,{store:n}))},i=function(a){return e.createElement(V,f({enableShortcuts:r.enableShortcuts},a,{store:n}))},o=function(a){return e.createElement(B,f({},a,{store:n}))};return{renderViewer:function(a){var u=a.slot;if(!r.enableShortcuts)return u;var s={children:e.createElement(e.Fragment,null,e.createElement(N,{containerRef:a.containerRef,store:n}),e.createElement(P,{pagesContainerRef:a.pagesContainerRef,store:n}),u.children)};return f(f({},u),s)},install:function(a){n.update("zoom",a.zoom)},onViewerStateChange:function(a){return n.update("scale",a.scale),a},zoomTo:function(a){var u=n.get("zoom");u&&u(a)},CurrentScale:function(a){return e.createElement(C,f({},a,{store:n}))},ZoomIn:c,ZoomInButton:function(){return e.createElement(c,null,(function(a){return e.createElement(w,f({},a))}))},ZoomInMenuItem:function(a){return e.createElement(c,null,(function(u){return e.createElement(q,{onClick:function(){u.onClick(),a.onClick()}})}))},ZoomOut:i,ZoomOutButton:function(){return e.createElement(i,null,(function(a){return e.createElement(_,f({},a))}))},ZoomOutMenuItem:function(a){return e.createElement(i,null,(function(u){return e.createElement(U,{onClick:function(){u.onClick(),a.onClick()}})}))},Zoom:o,ZoomPopover:function(a){return e.createElement(o,null,(function(u){return e.createElement(Z,f({levels:a?.levels},u))}))}}},z}var L;function ee(){if(L)return M.exports;L=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return M.exports=Q(),M.exports}var te=ee();const ae=({fileUrl:l,fileBlob:E,fileName:e})=>{const h=te.zoomPlugin(),{ZoomIn:g,ZoomOut:f,CurrentScale:b}=h,C=()=>{const d=URL.createObjectURL(E),p=document.createElement("a");p.href=d,p.download=e,p.style.display="none",document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(d)};return m.jsxs("div",{className:"border border-base-300 rounded-lg overflow-hidden",children:[m.jsxs("div",{className:"bg-base-300 text-base-content px-2 md:px-4 py-2 flex flex-wrap justify-between items-center gap-2",children:[m.jsx("span",{className:"font-bold text-sm md:text-base",children:"PDF Viewer"}),m.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[m.jsx(f,{children:d=>m.jsx("button",{onClick:d.onClick,className:"bg-primary hover:bg-primary/90 transition text-primary-content p-2 rounded flex items-center justify-center",title:"Zoom Out",children:m.jsx(H,{size:16})})}),m.jsx(b,{children:d=>m.jsxs("span",{className:"text-xs md:text-sm px-2 min-w-[36px] md:min-w-[40px] text-center",children:[Math.round(d.scale*100),"%"]})}),m.jsx(g,{children:d=>m.jsx("button",{onClick:d.onClick,className:"bg-primary hover:bg-primary/90 transition text-primary-content p-2 rounded flex items-center justify-center",title:"Zoom In",children:m.jsx(J,{size:16})})}),m.jsx("button",{onClick:C,className:"bg-primary hover:bg-primary/90 text-primary-content p-2 rounded flex items-center justify-center transition",title:"Download PDF",children:m.jsx(Y,{size:18})})]})]}),m.jsx("div",{className:"h-[70vh] md:h-[700px] bg-base-100",children:m.jsx($.Viewer,{fileUrl:l,plugins:[h]})})]})};export{ae as default};
