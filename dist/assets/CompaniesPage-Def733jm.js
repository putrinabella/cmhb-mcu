import{u as h,j as e,b as x}from"./index-DYAhuHJB.js";import{g as p}from"./companiesAPI-CC4GHuwH.js";import{u as g,P as b}from"./Pagination-hhIclQKh.js";import"./pdfjs-DdtK18WL.js";import"./apiClient-BmXS3_vS.js";import"./index-NIGUFBhG.js";import"./genericApi-B1yEKLU8.js";function k(){const{data:r,loading:n,error:a,page:t,lastPage:i,total:l,refetch:o,invalidateCache:d,handlePageChange:c}=g({queryFn:p,defaultParams:{}}),m=h();return e.jsxs("div",{className:"p-8 mx-auto min-h-screen bg-base-100 text-base-content",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Daftar Perusahaan"}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("button",{className:"btn btn-sm",onClick:()=>o(),children:"🔄 Refresh"}),e.jsx("button",{className:"btn btn-sm",onClick:d,children:"❌ Clear Cache"})]}),n&&e.jsx(x,{}),a&&e.jsx("p",{className:"text-red-500",children:a}),!n&&!a&&e.jsxs(e.Fragment,{children:[e.jsx("ul",{className:"space-y-2 mb-6",children:r.map(s=>e.jsxs("li",{className:"p-4 border rounded-lg shadow-sm bg-base-200 cursor-pointer hover:bg-base-300 transition",onClick:()=>m(`/company-profile/${s.id}`),children:[e.jsx("h2",{className:"font-semibold",children:s.name}),e.jsxs("p",{children:["Kode: ",s.code]}),e.jsxs("p",{children:["Alamat: ",s.address]}),e.jsxs("p",{children:["Telp: ",s.phone]}),e.jsxs("p",{children:["Email: ",s.email]})]},s.id))}),e.jsx(b,{page:t,lastPage:i,onPageChange:c,total:l})]})]})}export{k as default};
