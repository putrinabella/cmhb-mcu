const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/BatchDetailDesktop-DjvttGc0.js","assets/index-DBCl1piy.js","assets/pdfjs-BzSgQdvw.js","assets/index-DIFR5PkR.css","assets/whatsappUtils-TDaZTic9.js","assets/dateUtils-DnCeXi6b.js","assets/apiClient-BmXS3_vS.js","assets/index-NIGUFBhG.js","assets/genericApi-B1yEKLU8.js","assets/employeeAPI-DHr8FtOu.js","assets/examinationsApi-Bo6n5SZ3.js","assets/BatchDetailMobile-DZQi19NR.js","assets/phone-IJbGpULm.js","assets/use-paginated-resource-B8j7055W.js","assets/button-DOBZ2I0b.js","assets/download-D9uzA9M1.js"])))=>i.map(i=>d[i]);
import{c,r as s,g as D,u as S,j as e,b as d,s as b,_ as g}from"./index-DBCl1piy.js";import{b as L,g as C}from"./dateUtils-DnCeXi6b.js";import{g as I}from"./examinationsApi-Bo6n5SZ3.js";import{u as R}from"./use-paginated-resource-B8j7055W.js";import{B as m}from"./button-DOBZ2I0b.js";import{X as T,d as z}from"./employeeAPI-DHr8FtOu.js";import{D as O}from"./download-D9uzA9M1.js";/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],H=c("calendar",P);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],q=c("file-text",$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],U=c("folder-open",F);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],K=c("map-pin",A);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],W=c("search",V);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],X=c("upload",G);function Z(){return{downloadBlob:s.useCallback((t,l)=>{const n=window.URL.createObjectURL(t),o=document.createElement("a");o.href=n,o.download=l,document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(n)},[])}}const h=768;function J(){const[r,t]=s.useState(void 0);return s.useEffect(()=>{const l=window.matchMedia(`(max-width: ${h-1}px)`),n=()=>{t(window.innerWidth<h)};return l.addEventListener("change",n),t(window.innerWidth<h),()=>l.removeEventListener("change",n)},[]),!!r}const Q=s.lazy(()=>g(()=>import("./BatchDetailDesktop-DjvttGc0.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),Y=s.lazy(()=>g(()=>import("./BatchDetailMobile-DZQi19NR.js"),__vite__mapDeps([11,1,2,3,4,5,6,7,8,12,10,13,14,9,15])));function ee(){const{id:r}=D(),[t,l]=s.useState(null),[n,o]=s.useState(!0),[x,y]=s.useState(null),j=J(),[i,p]=s.useState(""),w=S(),v=()=>{M(i),f()},N=async()=>{try{const a=await z();_(a,"employee_template.xlsx"),b({icon:"success",title:"Berhasil",text:"Template berhasil diunduh!",timer:2e3,showConfirmButton:!1})}catch(a){console.error(a),b({icon:"error",title:"Gagal",text:"Download gagal!",confirmButtonText:"Coba lagi"})}},k=()=>{p(""),E(),f()},{downloadBlob:_}=Z();s.useEffect(()=>{r&&(o(!0),L(r).then(a=>l(a.data)).catch(a=>y(a.message||"Terjadi kesalahan")).finally(()=>o(!1)))},[r]);const{loading:B,error:u,handleSearch:M,resetSearch:E,invalidateCache:f}=R({queryFn:a=>I(r,a),defaultParams:{}});return n?e.jsx(d,{}):x?e.jsx("p",{className:"text-error",children:x}):t?e.jsxs("div",{className:"p-8 space-y-6",children:[e.jsxs("div",{className:"relative bg-primary/20 rounded-lg p-6 overflow-visible flex items-center",children:[e.jsx("div",{className:"flex-1 flex flex-col justify-center",children:e.jsxs("h1",{className:"text-3xl font-bold text-base-content",children:["Batch ",t.batch_code]})}),e.jsx("div",{className:"absolute right-4 -top-6 w-20 h-20 sm:right-10 sm:-top-10 sm:w-32 sm:h-32 flex items-center justify-center opacity-60",children:e.jsx(U,{className:"w-full h-full text-primary"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 bg-base-100 p-4 rounded-lg shadow-sm border border-base-200",children:[e.jsx(H,{className:"w-6 h-6 text-primary"}),e.jsx("span",{className:"font-medium text-base-content",children:C(t.exam_date)})]}),e.jsxs("div",{className:"flex items-center gap-3 bg-base-100 p-4 rounded-lg shadow-sm border border-base-200",children:[e.jsx(K,{className:"w-6 h-6 text-primary"}),e.jsx("span",{className:"font-medium text-base-content",children:t.location})]}),e.jsxs("div",{className:"flex items-center gap-3 bg-base-100 p-4 rounded-lg shadow-sm border border-base-200",children:[e.jsx(q,{className:"w-6 h-6 text-primary"}),e.jsx("span",{className:"font-medium text-base-content",children:t.notes||"-"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-stretch m-0 gap-2",children:[e.jsx("div",{className:"hidden md:flex flex-1 items-center overflow-hidden bg-primary/20 rounded-t-4xl justify-center border-t border-l border-r border-gray-300",children:e.jsx("p",{className:"break-words p-4 font-bold text-center sm:text-left",children:"Daftar Karyawan"})}),e.jsxs("div",{className:"flex-shrink-0 flex flex-col sm:flex-row gap-2 items-stretch sm:items-center mb-2 w-full sm:w-auto",children:[e.jsxs("div",{className:"flex w-full sm:w-auto",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",placeholder:"Search...",className:"input input-ghost rounded-l-full w-full border border-gray-300 h-10 pr-10",value:i,onChange:a=>p(a.target.value)}),i&&e.jsx("button",{type:"button",onClick:k,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-red-500",title:"Reset",children:e.jsx(T,{className:"w-4 h-4"})})]}),e.jsxs(m,{type:"button",className:"bg-primary/20 text-base-content hover:bg-primary-focus rounded-r-full h-10 flex items-center gap-2 px-4 w-auto",onClick:v,children:[e.jsx(W,{className:"size-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Search"})]})]}),e.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[e.jsx("div",{className:"tooltip flex-1 sm:flex-none","data-tip":"Download Template",children:e.jsxs(m,{type:"button",className:"bg-primary/20 text-base-content hover:bg-primary-focus rounded-full h-10 flex items-center justify-center gap-2 w-full sm:w-auto",onClick:N,children:[e.jsx(O,{className:"size-5"}),e.jsx("span",{children:"Download"})]})}),e.jsx("div",{className:"tooltip flex-1 sm:flex-none","data-tip":"Import File",children:e.jsxs(m,{type:"button",className:"bg-primary/20 text-base-content hover:bg-primary-focus rounded-full h-10 flex items-center justify-center gap-2 w-full sm:w-auto",onClick:()=>w(`/dashboard/batch/${r}/import`),children:[e.jsx(X,{className:"size-5"}),e.jsx("span",{children:"Import"})]})})]})]})]}),e.jsx("div",{className:"overflow-x-auto bg-base-100 rounded-bl-lg rounded-br-lg rounded-tr-lg md:border-l md:border-r md:border-b md:border-gray-300",children:B?e.jsx(d,{}):u?e.jsx("p",{className:"text-error p-4",children:u}):e.jsx(s.Suspense,{fallback:e.jsx(d,{}),children:j?e.jsx(Y,{examinations:t.examinations||[],page:1}):e.jsx(Q,{examinations:t.examinations||[],page:1})})})]}):e.jsx("p",{children:"Batch tidak ditemukan."})}const ce=Object.freeze(Object.defineProperty({__proto__:null,default:ee},Symbol.toStringTag,{value:"Module"}));export{ce as B,H as C};
